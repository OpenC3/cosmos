"use strict";(self.webpackChunkdocs_openc3_com=self.webpackChunkdocs_openc3_com||[]).push([["8682"],{1993:function(e,t,a){a.r(t),a.d(t,{metadata:()=>s,default:()=>h,frontMatter:()=>i,contentTitle:()=>c,toc:()=>o,assets:()=>d});var s=JSON.parse('{"id":"guides/packet-types","title":"Packet Types","description":"Understanding Different Packet Types","source":"@site/docs/guides/packet-types.md","sourceDirName":"guides","slug":"/guides/packet-types","permalink":"/docs/guides/packet-types","draft":false,"unlisted":false,"editUrl":"https://github.com/OpenC3/cosmos/tree/main/docs.openc3.com/docs/guides/packet-types.md","tags":[],"version":"current","frontMatter":{"title":"Packet Types","description":"Understanding Different Packet Types","sidebar_custom_props":{"myEmoji":"\u{1F4E6}"}},"sidebar":"defaultSidebar","previous":{"title":"Monitoring","permalink":"/docs/guides/monitoring"},"next":{"title":"Performance","permalink":"/docs/guides/performance"}}'),r=a(2615),n=a(9496);let i={title:"Packet Types",description:"Understanding Different Packet Types",sidebar_custom_props:{myEmoji:"\u{1F4E6}"}},c,d={},o=[{value:"Regular Packets",id:"regular-packets",level:2},{value:"LATEST",id:"latest",level:2},{value:"Subpackets",id:"subpackets",level:2},{value:"Virtual Packets",id:"virtual-packets",level:2},{value:"Stored Packets",id:"stored-packets",level:2},{value:"Hidden Packets",id:"hidden-packets",level:2},{value:"Disabled Packets",id:"disabled-packets",level:2},{value:"Hazardous Packets",id:"hazardous-packets",level:2},{value:"Restricted Packets",id:"restricted-packets",level:2}];function l(e){let t={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h2,{id:"regular-packets",children:"Regular Packets"}),"\n",(0,r.jsx)(t.p,{children:'Most packets defined in COSMOS are "regular packets". These are standard command and telemetry packets that flow through interfaces. Regular telemetry packets are identified at the interface level and then the identified raw packets flow through Redis streams for additional processing like decomutation and logging.'}),"\n",(0,r.jsx)(t.h2,{id:"latest",children:"LATEST"}),"\n",(0,r.jsx)(t.p,{children:"LATEST is a special packet name that can be used in place of an actual packet name when retrieving telemetry. It returns the most recently received value of a telemetry item across all packets that contain it. This is useful in systems where the same telemetry item appears in multiple packets, potentially at different rates."}),"\n",(0,r.jsx)(t.p,{children:"For example, assume the target INST has two packets: PACKET1 and PACKET2. Both packets have a telemetry item called TEMP."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-ruby",children:'# Get the value of TEMP from the most recently received PACKET1\nvalue = tlm("INST PACKET1 TEMP")\n# Get the value of TEMP from the most recently received PACKET2\nvalue = tlm("INST PACKET2 TEMP")\n# Get the value of TEMP from whichever packet (PACKET1 or PACKET2) was received most recently\nvalue = tlm("INST LATEST TEMP")\n'})}),"\n",(0,r.jsxs)(t.p,{children:["LATEST works by comparing the ",(0,r.jsx)(t.code,{children:"PACKET_TIMESECONDS"})," timestamp of each packet containing the requested item in the Current Value Table (CVT) and selecting the one with the newest timestamp."]}),"\n",(0,r.jsx)(t.p,{children:"LATEST can be used with:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.a,{href:"/docs/guides/scripting-api#tlm-tlm_raw-tlm_formatted",children:"tlm, tlm_raw, tlm_formatted"})," for reading telemetry values"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.a,{href:"/docs/configuration/telemetry-screens",children:"Telemetry Screen"})," widgets like LABELVALUE and FORMATVALUE"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.a,{href:"/docs/guides/scripting-api#get_tlm_values",children:"get_tlm_values"})," for reading multiple values at once"]}),"\n"]}),"\n",(0,r.jsx)(t.admonition,{type:"note",children:(0,r.jsxs)(t.p,{children:["LATEST cannot be used with methods that operate on entire packets such as ",(0,r.jsx)(t.a,{href:"/docs/guides/scripting-api#get_tlm_packet",children:"get_tlm_packet"})," or ",(0,r.jsx)(t.a,{href:"/docs/guides/scripting-api#get_tlm_buffer",children:"get_tlm_buffer"})," since those require a specific packet name. If an item only exists in a single packet, LATEST still works but is equivalent to using the packet name directly."]})}),"\n",(0,r.jsx)(t.h2,{id:"subpackets",children:"Subpackets"}),"\n",(0,r.jsxs)(t.p,{children:["Subpackets are marked with the keyword ",(0,r.jsx)(t.a,{href:"/docs/configuration/telemetry#subpacket",children:"SUBPACKET"}),". Subpackets exist inside of regular packets and are identified and broken out during decom processing by a ",(0,r.jsx)(t.a,{href:"/docs/configuration/telemetry#subpacketizer",children:"SUBPACKETIZER"}),' Python/Ruby class. Subpackets are used for channelized telemetry and for multi-sampled telemetry points in a regular packet. They can also be used for any content that may or may not be present in the parent packet. Note: because subpackets exist inside of regular packets, there is no "raw" version of a subpacket ie. the raw subpacket is part of its parent regular packet.']}),"\n",(0,r.jsx)(t.h2,{id:"virtual-packets",children:"Virtual Packets"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.a,{href:"/docs/configuration/telemetry#virtual",children:"VIRTUAL"})," packets are used to define structures that can be used inside of regular packets or subpackets. Virtual packets are not identified by either interfaces or subpacketizers, and generally contain no ID fields (though they can)."]}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.a,{href:"/docs/configuration/telemetry#structure",children:"STRUCTURE"})," and ",(0,r.jsx)(t.a,{href:"/docs/configuration/telemetry#append_structure",children:"APPEND_STRUCTURE"})," keywords can be used to add the fields from a virtual packet to a regular packet or subpacket."]}),"\n",(0,r.jsxs)(t.p,{children:["Packets marked ",(0,r.jsx)(t.a,{href:"/docs/configuration/telemetry#virtual",children:"VIRTUAL"})," are also automatically marked HIDDEN and DISABLED."]}),"\n",(0,r.jsx)(t.h2,{id:"stored-packets",children:"Stored Packets"}),"\n",(0,r.jsxs)(t.p,{children:['Packets can be marked as "stored" which means they represent non-realtime data such as back-orbit data, recorded data playback, or data read from files. Stored packets are fully processed through the COSMOS pipeline (identification, decommutation, logging) but they ',(0,r.jsx)(t.strong,{children:"do not update the Current Value Table (CVT)"}),". This means stored telemetry will not affect real-time displays like Packet Viewer or Telemetry Viewer."]}),"\n",(0,r.jsx)(t.p,{children:"The stored flag is primarily set in two ways:"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"By an Interface"})," - The ",(0,r.jsx)(t.a,{href:"../configuration/interfaces#file-interface",children:"File Interface"})," has a ",(0,r.jsx)(t.code,{children:"Stored"})," parameter (default: true) that automatically marks all telemetry read from files as stored."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"By a Protocol"})," - Custom protocols can set ",(0,r.jsx)(t.code,{children:"packet.stored = true"})," in their ",(0,r.jsx)(t.code,{children:"read_packet()"})," method. The ",(0,r.jsx)(t.a,{href:"../configuration/protocols#preidentified-protocol",children:"Preidentified Protocol"})," also encodes and decodes the stored flag in its packet header."]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["When building a ",(0,r.jsx)(t.a,{href:"../configuration/interfaces#custom-interfaces",children:"Custom Interface"}),", you can set the stored flag on packets returned by the ",(0,r.jsx)(t.code,{children:"read"})," method. When building a ",(0,r.jsx)(t.a,{href:"../configuration/protocols#custom-protocols",children:"Custom Protocol"}),", the ",(0,r.jsx)(t.code,{children:"read_packet()"})," method is the appropriate place to set the stored flag. See those sections for more details."]}),"\n",(0,r.jsx)(t.p,{children:"Common use cases for stored packets include:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Processing archived telemetry files through the ",(0,r.jsx)(t.a,{href:"../configuration/interfaces#file-interface",children:"File Interface"})]}),"\n",(0,r.jsx)(t.li,{children:"Replaying recorded data without disrupting real-time displays"}),"\n",(0,r.jsx)(t.li,{children:"Ingesting back-orbit or store-and-forward data from a spacecraft"}),"\n"]}),"\n",(0,r.jsx)(t.admonition,{type:"note",children:(0,r.jsx)(t.p,{children:"Stored packets are still logged and available in tools like Telemetry Grapher and Data Extractor. The only difference is they do not update the CVT, so they won't change values shown in Packet Viewer, Telemetry Viewer, or affect LATEST packet lookups."})}),"\n",(0,r.jsx)(t.h2,{id:"hidden-packets",children:"Hidden Packets"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.a,{href:"/docs/configuration/command#hidden-1",children:"HIDDEN"})," packets are regular packets that are intentionally hidden from packet chooser widgets and from code completion. Hidden command packets can still be sent from scripts. Hidden telemetry packet data can still be used in TlmViewer screens."]}),"\n",(0,r.jsx)(t.h2,{id:"disabled-packets",children:"Disabled Packets"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.a,{href:"/docs/configuration/command#disabled",children:"DISABLED"})," packets are the same as hidden, except disabled command packets also cannot be sent. The ",(0,r.jsx)(t.a,{href:"/docs/guides/scripting-api#disable_cmd",children:"disable_cmd"})," and ",(0,r.jsx)(t.a,{href:"/docs/guides/scripting-api#enable_cmd",children:"enable_cmd"})," api methods can be used to temporarily make a command disabled or enabled."]}),"\n",(0,r.jsx)(t.h2,{id:"hazardous-packets",children:"Hazardous Packets"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.a,{href:"/docs/configuration/command#hazardous",children:"HAZARDOUS"}),' command packets will present the user with an "Are You Sure?" message before being sent. Using ',(0,r.jsx)(t.a,{href:"/docs/guides/scripting-api#cmd_no_hazardous_check",children:"cmd_no_hazardous_check"})," can be used to avoid this popup for automated scripts."]}),"\n",(0,r.jsxs)(t.p,{children:["Hazardous commands also require additional approval if ",(0,r.jsx)(t.a,{href:"/docs/configuration/command#critical-commanding-enterprise",children:"Critical Commanding"})," is enabled in COSMOS Enterprise."]}),"\n",(0,r.jsx)(t.h2,{id:"restricted-packets",children:"Restricted Packets"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.a,{href:"/docs/configuration/command#restricted",children:"RESTRICTED"})," command packets require additional approval if ",(0,r.jsx)(t.a,{href:"/docs/configuration/command#critical-commanding-enterprise",children:"Critical Commanding"})," is enabled in COSMOS Enterprise."]}),"\n",(0,r.jsx)(t.p,{children:'Note that restricted packets don\'t cause an "Are You Sure?" dialog.'})]})}function h(e={}){let{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},9496:function(e,t,a){a.d(t,{R:()=>i,x:()=>c});var s=a(9471);let r={},n=s.createContext(r);function i(e){let t=s.useContext(n);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(n.Provider,{value:t},e.children)}}}]);