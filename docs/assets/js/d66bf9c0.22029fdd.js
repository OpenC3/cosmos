"use strict";(self.webpackChunkdocs_openc3_com=self.webpackChunkdocs_openc3_com||[]).push([["6868"],{4946:function(e,s,t){t.r(s),t.d(s,{frontMatter:()=>o,toc:()=>l,default:()=>h,metadata:()=>n,assets:()=>c,contentTitle:()=>a});var n=JSON.parse('{"id":"configuration/accessors","title":"Accessors","description":"Responsible for reading and writing data to a buffer","source":"@site/docs/configuration/accessors.md","sourceDirName":"configuration","slug":"/configuration/accessors","permalink":"/docs/configuration/accessors","draft":false,"unlisted":false,"editUrl":"https://github.com/OpenC3/cosmos/tree/main/docs.openc3.com/docs/configuration/accessors.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8,"title":"Accessors","description":"Responsible for reading and writing data to a buffer","sidebar_custom_props":{"myEmoji":"\u270F\uFE0F"}},"sidebar":"defaultSidebar","previous":{"title":"Protocols","permalink":"/docs/configuration/protocols"},"next":{"title":"Conversions","permalink":"/docs/configuration/conversions"}}'),r=t(5893),i=t(65);let o={sidebar_position:8,title:"Accessors",description:"Responsible for reading and writing data to a buffer",sidebar_custom_props:{myEmoji:"\u270F\uFE0F"}},a=void 0,c={},l=[{value:"Binary Accessor",id:"binary-accessor",level:3},{value:"Commands",id:"commands",level:4},{value:"Telemetry",id:"telemetry",level:4},{value:"CBOR Accessor",id:"cbor-accessor",level:3},{value:"Commands",id:"commands-1",level:4},{value:"Telemetry",id:"telemetry-1",level:4},{value:"Form Accessor",id:"form-accessor",level:3},{value:"Commands",id:"commands-2",level:4},{value:"Telemetry",id:"telemetry-2",level:4},{value:"HTML Accessor",id:"html-accessor",level:3},{value:"Commands",id:"commands-3",level:4},{value:"Telemetry",id:"telemetry-3",level:4},{value:"HTTP Accessor",id:"http-accessor",level:3},{value:"Commands",id:"commands-4",level:4},{value:"Telemetry",id:"telemetry-4",level:4},{value:"JSON Accessor",id:"json-accessor",level:3},{value:"Commands",id:"commands-5",level:4},{value:"Telemetry",id:"telemetry-5",level:4},{value:"Template Accessor",id:"template-accessor",level:3},{value:"Commands",id:"commands-6",level:4},{value:"Telemetry",id:"telemetry-6",level:4},{value:"XML Accessor",id:"xml-accessor",level:3},{value:"Commands",id:"commands-7",level:4},{value:"Telemetry",id:"telemetry-7",level:4},{value:"GEMS Ascii (Enterprise)",id:"gems-ascii-enterprise",level:3},{value:"Prometheus (Enterprise)",id:"prometheus-enterprise",level:3},{value:"Protocol Buffer (Enterprise)",id:"protocol-buffer-enterprise",level:3}];function d(e){let s={a:"a",code:"code",h3:"h3",h4:"h4",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.p,{children:"Accessors are the low level code which know how to read and write data into a buffer. The buffer data then gets written out an interface which uses protocols to potentially change the data before it goes to the target. Accessors handle the different serializations formats such as binary (CCSDS), JSON, CBOR, XML, HTML, Protocol Buffers, etc."}),"\n",(0,r.jsxs)(s.p,{children:["For more information about how Accessors fit with Interfaces and Protocols see ",(0,r.jsx)(s.a,{href:"https://www.openc3.com/news/interoperability-without-standards",children:"Interoperability Without Standards"}),"."]}),"\n",(0,r.jsx)(s.p,{children:"COSMOS provides the following built-in accessors: Binary, CBOR, Form, HTML, HTTP, JSON, Template, XML."}),"\n",(0,r.jsx)(s.p,{children:"COSMOS Enterprise provides the following accessors: GEMS Ascii, Prometheus, Protocol Buffer."}),"\n",(0,r.jsx)(s.h3,{id:"binary-accessor",children:"Binary Accessor"}),"\n",(0,r.jsx)(s.p,{children:"The Binary Accessor serializes data into a binary format when writing to the buffer. This is how many devices expect their data including those following the CCSDS standard. COSMOS handles converting signed and unsigned integers, floats, strings, etc. into their binary representation in the buffer. This includes handling big and little endian, bitfields, and variable length fields. Since binary is so common this is the default Accessor and will be used if no other accessors are given."}),"\n",(0,r.jsx)(s.h4,{id:"commands",children:"Commands"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ruby",children:'COMMAND INST COLLECT BIG_ENDIAN "Starts a collect"\n  ACCESSOR BinaryAccessor # Typically not explicitly defined because it is the default\n  PARAMETER TYPE       64  16  UINT MIN MAX 0 "Collect type"\n  PARAMETER DURATION   80  32  FLOAT 0.0 10.0 1.0 "Collect duration"\n  PARAMETER OPCODE    112   8  UINT 0x0 0xFF 0xAB "Collect opcode"\n'})}),"\n",(0,r.jsx)(s.h4,{id:"telemetry",children:"Telemetry"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ruby",children:'TELEMETRY INST HEALTH_STATUS BIG_ENDIAN "Health and status"\n  ACCESSOR BinaryAccessor # Typically not explicitly defined because it is the default\n  APPEND_ITEM CMD_ACPT_CNT   32 UINT  "Command accept count"\n  APPEND_ITEM COLLECTS       16 UINT  "Number of collects"\n  APPEND_ITEM DURATION       32 FLOAT "Most recent collect duration"\n'})}),"\n",(0,r.jsx)(s.h3,{id:"cbor-accessor",children:"CBOR Accessor"}),"\n",(0,r.jsxs)(s.p,{children:["The Concise Binary Object Representation (",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/CBOR",children:"CBOR"}),") Accessor serializes data into a binary format loosely based on JSON. It is a subclass of the JSON Accessor and is what COSMOS uses natively to store log files."]}),"\n",(0,r.jsxs)(s.p,{children:["For a full example see ",(0,r.jsx)(s.a,{href:"https://github.com/OpenC3/cosmos/tree/main/examples/openc3-cosmos-accessor-test",children:"openc3-cosmos-accessor-test"}),"."]}),"\n",(0,r.jsx)(s.h4,{id:"commands-1",children:"Commands"}),"\n",(0,r.jsxs)(s.p,{children:["Using the CBOR Accessor for ",(0,r.jsx)(s.a,{href:"command",children:"command definitions"})," requires the use of ",(0,r.jsx)(s.a,{href:"command#template_file",children:"TEMPLATE_FILE"})," and ",(0,r.jsx)(s.a,{href:"command#key",children:"KEY"})," to allow the user to set values in the CBOR data. Note that the KEY values use ",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/JSONPath",children:"JSONPath"}),"."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ruby",children:'COMMAND CBOR CBORCMD BIG_ENDIAN "CBOR Accessor Command"\n  ACCESSOR CborAccessor\n  TEMPLATE_FILE _cbor_template.bin\n  APPEND_ID_PARAMETER ID_ITEM 32 INT 2 2 2 "Int Item"\n    KEY $.id_item\n  APPEND_PARAMETER ITEM1 16 UINT MIN MAX 101 "Int Item 2"\n    KEY $.item1\n    UNITS CELSIUS C\n  APPEND_PARAMETER ITEM2 16 UINT MIN MAX 12 "Int Item 3"\n    KEY $.more.item2\n    FORMAT_STRING "0x%X"\n  APPEND_PARAMETER ITEM3 64 FLOAT MIN MAX 3.14 "Float Item"\n    KEY $.more.item3\n  APPEND_PARAMETER ITEM4 128 STRING "Example" "String Item"\n    KEY $.more.item4\n  APPEND_ARRAY_PARAMETER ITEM5 8 UINT 0 "Array Item"\n    KEY $.more.item5\n'})}),"\n",(0,r.jsx)(s.p,{children:"Creating the template file requires the use of the Ruby or Python CBOR libraries. Here is an example from Ruby:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ruby",children:'require \'cbor\'\ndata = {"id_item" : 2, "item1" : 101, "more" : { "item2" : 12, "item3" : 3.14, "item4" : "Example", "item5" : [4, 3, 2, 1] } }\nFile.open("_cbor_template.bin", \'wb\') do |file|\n  file.write(data.to_cbor)\nend\n'})}),"\n",(0,r.jsx)(s.h4,{id:"telemetry-1",children:"Telemetry"}),"\n",(0,r.jsxs)(s.p,{children:["Using the CBOR Accessor for ",(0,r.jsx)(s.a,{href:"telemetry",children:"telemetry definitions"})," only requires the use of ",(0,r.jsx)(s.a,{href:"command#key",children:"KEY"})," to pull values from the CBOR data. Note that the KEY values use ",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/JSONPath",children:"JSONPath"}),"."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ruby",children:'TELEMETRY CBOR CBORTLM BIG_ENDIAN "CBOR Accessor Telemetry"\n  ACCESSOR CborAccessor\n  APPEND_ID_ITEM ID_ITEM 32 INT 2 "Int Item"\n    KEY $.id_item\n  APPEND_ITEM ITEM1 16 UINT "Int Item 2"\n    KEY $.item1\n    GENERIC_READ_CONVERSION_START UINT 16\n      value * 2\n    GENERIC_READ_CONVERSION_END\n    UNITS CELSIUS C\n  APPEND_ITEM ITEM2 16 UINT "Int Item 3"\n    KEY $.more.item2\n    FORMAT_STRING "0x%X"\n  APPEND_ITEM ITEM3 64 FLOAT "Float Item"\n    KEY $.more.item3\n  APPEND_ITEM ITEM4 128 STRING "String Item"\n    KEY $.more.item4\n  APPEND_ARRAY_ITEM ITEM5 8 UINT 0 "Array Item"\n    KEY $.more.item5\n'})}),"\n",(0,r.jsx)(s.h3,{id:"form-accessor",children:"Form Accessor"}),"\n",(0,r.jsxs)(s.p,{children:["The Form Accessor is typically used with the ",(0,r.jsx)(s.a,{href:"interfaces#http-client-interface",children:"HTTP Client"})," interface to submit forms to a remote HTTP Server."]}),"\n",(0,r.jsx)(s.h4,{id:"commands-2",children:"Commands"}),"\n",(0,r.jsxs)(s.p,{children:["Using the Form Accessor for ",(0,r.jsx)(s.a,{href:"command",children:"command definitions"})," requires the use of ",(0,r.jsx)(s.a,{href:"command#key",children:"KEY"})," to allow the user to set values in the HTTP form. Note that the KEY values use ",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/XPath",children:"XPath"}),"."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ruby",children:'COMMAND FORM FORMCMD BIG_ENDIAN "Form Accessor Command"\n  ACCESSOR FormAccessor\n  APPEND_ID_PARAMETER ID_ITEM 32 INT 2 2 2 "Int Item"\n    KEY $.id_item\n  APPEND_PARAMETER ITEM1 16 UINT MIN MAX 101 "Int Item 2"\n    KEY $.item1\n    UNITS CELSIUS C\n'})}),"\n",(0,r.jsx)(s.h4,{id:"telemetry-2",children:"Telemetry"}),"\n",(0,r.jsxs)(s.p,{children:["Using the Form Accessor for ",(0,r.jsx)(s.a,{href:"telemetry",children:"telemetry definitions"})," only requires the use of ",(0,r.jsx)(s.a,{href:"command#key",children:"KEY"})," to pull values from the HTTP response data. Note that the KEY values use ",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/XPath",children:"XPath"}),"."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ruby",children:'TELEMETRY FORM FORMTLM BIG_ENDIAN "Form Accessor Telemetry"\n  ACCESSOR FormAccessor\n  APPEND_ID_ITEM ID_ITEM 32 INT 1 "Int Item"\n    KEY $.id_item\n  APPEND_ITEM ITEM1 16 UINT "Int Item 2"\n    KEY $.item1\n'})}),"\n",(0,r.jsx)(s.h3,{id:"html-accessor",children:"HTML Accessor"}),"\n",(0,r.jsxs)(s.p,{children:["The HTML Accessor is typically used with the ",(0,r.jsx)(s.a,{href:"interfaces#http-client-interface",children:"HTTP Client"})," interface to parse a web page."]}),"\n",(0,r.jsxs)(s.p,{children:["For a full example see ",(0,r.jsx)(s.a,{href:"https://github.com/OpenC3/cosmos/tree/main/examples/openc3-cosmos-accessor-test",children:"openc3-cosmos-accessor-test"}),"."]}),"\n",(0,r.jsx)(s.h4,{id:"commands-3",children:"Commands"}),"\n",(0,r.jsx)(s.p,{children:"HTML Accessor is not typically used for commands but it would be similar to Telemetry using XPath Keys."}),"\n",(0,r.jsx)(s.h4,{id:"telemetry-3",children:"Telemetry"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ruby",children:'TELEMETRY HTML RESPONSE BIG_ENDIAN "Search results"\n  # Typically you use the HtmlAccessor to parse out the page that is returned\n  # HtmlAccessor is passed to HttpAccessor and used internally\n  ACCESSOR HttpAccessor HtmlAccessor\n  APPEND_ITEM NAME 240 STRING\n    # Keys were located by doing a manual search and then inspecting the page\n    # Right click the text you\'re looking for and then Copy -> Copy XPath\n    KEY normalize-space(//main/div/a[2]/span/h2/text())\n  APPEND_ITEM DESCRIPTION 480 STRING\n    KEY //main/div/a[2]/span/p/text()\n  APPEND_ITEM VERSION 200 STRING\n    KEY //main/div/a[2]/span/h2/span/text()\n  APPEND_ITEM DOWNLOADS 112 STRING\n    KEY normalize-space(//main/div/a[2]/p/text())\n'})}),"\n",(0,r.jsx)(s.h3,{id:"http-accessor",children:"HTTP Accessor"}),"\n",(0,r.jsxs)(s.p,{children:["HTTP Accessor is typically used with the ",(0,r.jsx)(s.a,{href:"interfaces#http-client-interface",children:"HTTP Client"})," or ",(0,r.jsx)(s.a,{href:"interfaces#http-server-interface",children:"HTTP Server"})," interface to parse a web page. It takes another accessor to do the low level reading and writing of the items. The default accessor is FormAccessor. HtlmAccessor, XmlAccessor and JsonAccessor are also common for manipulating HTML, XML and JSON respectively."]}),"\n",(0,r.jsxs)(s.p,{children:["For a full example see ",(0,r.jsx)(s.a,{href:"https://github.com/OpenC3/cosmos/tree/main/examples/openc3-cosmos-http-example",children:"openc3-cosmos-http-example"}),"."]}),"\n",(0,r.jsx)(s.h4,{id:"commands-4",children:"Commands"}),"\n",(0,r.jsx)(s.p,{children:"When used with the HTTP Client Interface, HTTP Accessor utilizes the following command parameters:"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Parameter"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"HTTP_PATH"}),(0,r.jsx)(s.td,{children:"requests at this path"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"HTTP_METHOD"}),(0,r.jsx)(s.td,{children:"request method (GET, POST, DELETE)"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"HTTP_PACKET"}),(0,r.jsx)(s.td,{children:"telemetry packet to store the response"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"HTTP_ERROR_PACKET"}),(0,r.jsx)(s.td,{children:"telemetry packet to store error responses (status code >= 300)"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"HTTP_QUERY_XXX"}),(0,r.jsx)(s.td,{children:"sets a value in the params passed to the request (XXX => value, or KEY => value), see example below"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"HTTP_HEADER_XXX"}),(0,r.jsx)(s.td,{children:"sets a value in the headers passed to the request (XXX => value, or KEY => value), see example below"})]})]})]}),"\n",(0,r.jsx)(s.p,{children:"When used with the HTTP Server Interface, HTTP Accessor utilizes the following command parameters:"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Parameter"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"HTTP_STATUS"}),(0,r.jsx)(s.td,{children:"status to return to clients"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"HTTP_PATH"}),(0,r.jsx)(s.td,{children:"mount point for server"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"HTTP_PACKET"}),(0,r.jsx)(s.td,{children:"telemetry packet to store the request"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"HTTP_HEADER_XXX"}),(0,r.jsx)(s.td,{children:"sets a value in the response headers (XXX => value, or KEY => value), see example below"})]})]})]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ruby",children:'COMMAND HTML SEARCH BIG_ENDIAN "Searches Rubygems.org"\n  # Note FormAccessor is the default argument for HttpAccessor so it is typically not specified\n  ACCESSOR HttpAccessor\n  PARAMETER HTTP_PATH 0 0 DERIVED nil nil "/search"\n  PARAMETER HTTP_METHOD 0 0 DERIVED nil nil "GET"\n  PARAMETER HTTP_PACKET 0 0 DERIVED nil nil "RESPONSE"\n  PARAMETER HTTP_ERROR_PACKET 0 0 DERIVED nil nil "ERROR"\n  # This sets parameter query=openc3+cosmos\n  # Note the parameter name \'query\' based on HTTP_QUERY_QUERY\n  PARAMETER HTTP_QUERY_QUERY 0 0 DERIVED nil nil "openc3 cosmos"\n    GENERIC_READ_CONVERSION_START\n      value.split.join(\'+\')\n    GENERIC_READ_CONVERSION_END\n  # This sets header Content-Type=text/html\n  # Note that TYPE is not used since the KEY is specified\n  PARAMETER HTTP_HEADER_TYPE 0 0 DERIVED nil nil "text/html"\n    KEY Content-Type\n'})}),"\n",(0,r.jsx)(s.h4,{id:"telemetry-4",children:"Telemetry"}),"\n",(0,r.jsx)(s.p,{children:"HTTP Accessor utilizes the following telemetry items:"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Parameter"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"HTTP_STATUS"}),(0,r.jsx)(s.td,{children:"the request status"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"HTTP_HEADERS"}),(0,r.jsx)(s.td,{children:"hash of the response headers"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"HTTP_REQUEST"}),(0,r.jsxs)(s.td,{children:["optional hash which returns all the request parameters, see ",(0,r.jsx)(s.a,{href:"interfaces#http-client-interface",children:"HTTP Client Interface"})]})]})]})]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ruby",children:'TELEMETRY HTML RESPONSE BIG_ENDIAN "Search results"\n  # Typically you use the HtmlAccessor to parse out the page that is returned\n  ACCESSOR HttpAccessor HtmlAccessor\n  APPEND_ITEM NAME 240 STRING\n    # Keys were located by doing a manual search and then inspecting the page\n    # Right click the text you\'re looking for and then Copy -> Copy XPath\n    KEY normalize-space(//main/div/a[2]/span/h2/text())\n  APPEND_ITEM DESCRIPTION 480 STRING\n    KEY //main/div/a[2]/span/p/text()\n  APPEND_ITEM VERSION 200 STRING\n    KEY //main/div/a[2]/span/h2/span/text()\n  APPEND_ITEM DOWNLOADS 112 STRING\n    KEY normalize-space(//main/div/a[2]/p/text())\n'})}),"\n",(0,r.jsx)(s.h3,{id:"json-accessor",children:"JSON Accessor"}),"\n",(0,r.jsxs)(s.p,{children:["The JSON Accessor serializes data into JavaScript Object Notation (",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/JSON",children:"JSON"}),"). JSON is a data interchange format that uses human-readable text to transmit data consisting of key value pairs and arrays."]}),"\n",(0,r.jsxs)(s.p,{children:["For a full example see ",(0,r.jsx)(s.a,{href:"https://github.com/OpenC3/cosmos/tree/main/examples/openc3-cosmos-accessor-test",children:"openc3-cosmos-accessor-test"}),"."]}),"\n",(0,r.jsx)(s.h4,{id:"commands-5",children:"Commands"}),"\n",(0,r.jsxs)(s.p,{children:["Using the JSON Accessor for ",(0,r.jsx)(s.a,{href:"command",children:"command definitions"})," requires the use of ",(0,r.jsx)(s.a,{href:"command#template",children:"TEMPLATE"})," and ",(0,r.jsx)(s.a,{href:"command#key",children:"KEY"})," to allow the user to set values in the JSON data. Note that the KEY values use ",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/JSONPath",children:"JSONPath"}),"."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ruby",children:'COMMAND JSON JSONCMD BIG_ENDIAN "JSON Accessor Command"\n  ACCESSOR JsonAccessor\n  TEMPLATE \'{"id_item":1, "item1":101, "more": { "item2":12, "item3":3.14, "item4":"Example", "item5":[4, 3, 2, 1] } }\'\n  APPEND_ID_PARAMETER ID_ITEM 32 INT 2 2 2 "Int Item"\n    KEY $.id_item\n  APPEND_PARAMETER ITEM1 16 UINT MIN MAX 101 "Int Item 2"\n    KEY $.item1\n    UNITS CELSIUS C\n  APPEND_PARAMETER ITEM2 16 UINT MIN MAX 12 "Int Item 3"\n    KEY $.more.item2\n    FORMAT_STRING "0x%X"\n  APPEND_PARAMETER ITEM3 64 FLOAT MIN MAX 3.14 "Float Item"\n    KEY $.more.item3\n  APPEND_PARAMETER ITEM4 128 STRING "Example" "String Item"\n    KEY $.more.item4\n  APPEND_ARRAY_PARAMETER ITEM5 8 UINT 0 "Array Item"\n    KEY $.more.item5\n'})}),"\n",(0,r.jsx)(s.h4,{id:"telemetry-5",children:"Telemetry"}),"\n",(0,r.jsxs)(s.p,{children:["Using the JSON Accessor for ",(0,r.jsx)(s.a,{href:"telemetry",children:"telemetry definitions"})," only requires the use of ",(0,r.jsx)(s.a,{href:"command#key",children:"KEY"})," to pull values from the JSON data. Note that the KEY values use ",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/JSONPath",children:"JSONPath"}),"."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ruby",children:'TELEMETRY JSON JSONTLM BIG_ENDIAN "JSON Accessor Telemetry"\n  ACCESSOR JsonAccessor\n  APPEND_ID_ITEM ID_ITEM 32 INT 1 "Int Item"\n    KEY $.id_item\n  APPEND_ITEM ITEM1 16 UINT "Int Item 2"\n    KEY $.item1\n    GENERIC_READ_CONVERSION_START UINT 16\n      value * 2\n    GENERIC_READ_CONVERSION_END\n    UNITS CELSIUS C\n  APPEND_ITEM ITEM2 16 UINT "Int Item 3"\n    KEY $.more.item2\n    FORMAT_STRING "0x%X"\n  APPEND_ITEM ITEM3 64 FLOAT "Float Item"\n    KEY $.more.item3\n  APPEND_ITEM ITEM4 128 STRING "String Item"\n    KEY $.more.item4\n  APPEND_ARRAY_ITEM ITEM5 8 UINT 0 "Array Item"\n    KEY $.more.item5\n'})}),"\n",(0,r.jsx)(s.h3,{id:"template-accessor",children:"Template Accessor"}),"\n",(0,r.jsxs)(s.p,{children:["The Template Accessor is commonly used with string based command / response protocols such as the ",(0,r.jsx)(s.a,{href:"protocols#command-response-protocol",children:"Command Response Protocol"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["For a full example see ",(0,r.jsx)(s.a,{href:"https://github.com/OpenC3/cosmos-enterprise-plugins/tree/main/openc3-cosmos-scpi-power-supply",children:"openc3-cosmos-scpi-power-supply"})," in the COSMOS Enterprise Plugins."]}),"\n",(0,r.jsx)(s.h4,{id:"commands-6",children:"Commands"}),"\n",(0,r.jsxs)(s.p,{children:["Using the Template Accessor for ",(0,r.jsx)(s.a,{href:"command",children:"command definitions"})," requires the use of ",(0,r.jsx)(s.a,{href:"command#template",children:"TEMPLATE"})," to define a string template with optional parameters that are populated using the command parameters."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ruby",children:'# Some commands don\'t have any parameters and the template is sent as-is\nCOMMAND SCPI_PS RESET BIG_ENDIAN "Reset the power supply state"\n  ACCESSOR TemplateAccessor\n  TEMPLATE "*RST"\n\n# This command has two parameters in the template defined by <XXX>\nCOMMAND SCPI_PS VOLTAGE BIG_ENDIAN "Sets the voltage of a power supply channel"\n  ACCESSOR TemplateAccessor\n  # <VOLTAGE> and <CHANNEL> are replaced by the parameter values\n  TEMPLATE "VOLT <VOLTAGE>, (@<CHANNEL>)"\n  APPEND_PARAMETER VOLTAGE 32 FLOAT MIN MAX 0.0 "Voltage Setting"\n    UNITS VOLTS V\n  APPEND_PARAMETER CHANNEL 8 UINT 1 2 1 "Output Channel"\n'})}),"\n",(0,r.jsx)(s.h4,{id:"telemetry-6",children:"Telemetry"}),"\n",(0,r.jsxs)(s.p,{children:["Using the Template Accessor for ",(0,r.jsx)(s.a,{href:"telemetry",children:"telemetry definitions"})," requires the use of ",(0,r.jsx)(s.a,{href:"telemetry#template",children:"TEMPLATE"})," to define a template where telemetry values are pulled from the string buffer."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ruby",children:'TELEMETRY SCPI_PS STATUS BIG_ENDIAN "Power supply status"\n  ACCESSOR TemplateAccessor\n  # The raw string from the target is something like "1.234,2.345"\n  # String is split by the comma and pushed into MEAS_VOLTAGE_1, MEAS_VOLTAGE_2\n  TEMPLATE "<MEAS_VOLTAGE_1>,<MEAS_VOLTAGE_2>"\n  APPEND_ITEM MEAS_VOLTAGE_1 32 FLOAT "Current Reading for Channel 1"\n  APPEND_ITEM MEAS_VOLTAGE_2 32 FLOAT "Current Reading for Channel 2"\n'})}),"\n",(0,r.jsx)(s.h3,{id:"xml-accessor",children:"XML Accessor"}),"\n",(0,r.jsxs)(s.p,{children:["The XML Accessor is typically used with the ",(0,r.jsx)(s.a,{href:"interfaces#http-client-interface",children:"HTTP Client"})," interface to send and receive XML from a web server."]}),"\n",(0,r.jsxs)(s.p,{children:["For a full example see ",(0,r.jsx)(s.a,{href:"https://github.com/OpenC3/cosmos/tree/main/examples/openc3-cosmos-accessor-test",children:"openc3-cosmos-accessor-test"}),"."]}),"\n",(0,r.jsx)(s.h4,{id:"commands-7",children:"Commands"}),"\n",(0,r.jsxs)(s.p,{children:["Using the XML Accessor for ",(0,r.jsx)(s.a,{href:"command",children:"command definitions"})," requires the use of ",(0,r.jsx)(s.a,{href:"command#template",children:"TEMPLATE"})," and ",(0,r.jsx)(s.a,{href:"command#key",children:"KEY"})," to allow the user to set values in the XML data. Note that the KEY values use ",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/XPath",children:"XPath"}),"."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ruby",children:'COMMAND XML XMLCMD BIG_ENDIAN "XML Accessor Command"\n  ACCESSOR XmlAccessor\n  TEMPLATE \'<html><head><script src="3"><\/script><noscript>101</noscript></head><body><img src="12"/><div><ul><li>3.14</li><li>Example</li></ul></div><div></div></body></html>\'\n  APPEND_ID_PARAMETER ID_ITEM 32 INT 3 3 3 "Int Item"\n    KEY "/html/head/script/@src"\n  APPEND_PARAMETER ITEM1 16 UINT MIN MAX 101 "Int Item 2"\n    KEY "/html/head/noscript/text()"\n    UNITS CELSIUS C\n  APPEND_PARAMETER ITEM2 16 UINT MIN MAX 12 "Int Item 3"\n    KEY "/html/body/img/@src"\n    FORMAT_STRING "0x%X"\n  APPEND_PARAMETER ITEM3 64 FLOAT MIN MAX 3.14 "Float Item"\n    KEY "/html/body/div/ul/li[1]/text()"\n  APPEND_PARAMETER ITEM4 128 STRING "Example" "String Item"\n    KEY "/html/body/div/ul/li[2]/text()"\n'})}),"\n",(0,r.jsx)(s.h4,{id:"telemetry-7",children:"Telemetry"}),"\n",(0,r.jsxs)(s.p,{children:["Using the XML Accessor for ",(0,r.jsx)(s.a,{href:"telemetry",children:"telemetry definitions"})," only requires the use of ",(0,r.jsx)(s.a,{href:"command#key",children:"KEY"})," to pull values from the XML data. Note that the KEY values use ",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/XPath",children:"XPath"}),"."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ruby",children:'TELEMETRY XML XMLTLM BIG_ENDIAN "XML Accessor Telemetry"\n  ACCESSOR XmlAccessor\n  # Template is not required for telemetry, but is useful for simulation\n  TEMPLATE \'<html><head><script src="3"><\/script><noscript>101</noscript></head><body><img src="12"/><div><ul><li>3.14</li><li>Example</li></ul></div><div></div></body></html>\'\n  APPEND_ID_ITEM ID_ITEM 32 INT 3 "Int Item"\n    KEY "/html/head/script/@src"\n  APPEND_ITEM ITEM1 16 UINT "Int Item 2"\n    KEY "/html/head/noscript/text()"\n    GENERIC_READ_CONVERSION_START UINT 16\n      value * 2\n    GENERIC_READ_CONVERSION_END\n    UNITS CELSIUS C\n  APPEND_ITEM ITEM2 16 UINT "Int Item 3"\n    KEY "/html/body/img/@src"\n    FORMAT_STRING "0x%X"\n  APPEND_ITEM ITEM3 64 FLOAT "Float Item"\n    KEY "/html/body/div/ul/li[1]/text()"\n  APPEND_ITEM ITEM4 128 STRING "String Item"\n    KEY "/html/body/div/ul/li[2]/text()"\n'})}),"\n",(0,r.jsx)(s.h3,{id:"gems-ascii-enterprise",children:"GEMS Ascii (Enterprise)"}),"\n",(0,r.jsxs)(s.p,{children:["The GemsAsciiAccessor inherits from ",(0,r.jsx)(s.a,{href:"accessors#template-accessor",children:"TemplateAccessor"}),' to escape the following characters in outgoing commands: "&" => "&a", "|" => "&b", "," => "&c", and ";" => "&d" and reverse them in telemetry. See the ',(0,r.jsx)(s.a,{href:"https://www.omg.org/spec/GEMS/1.3/PDF",children:"GEMS Spec"})," for more information."]}),"\n",(0,r.jsxs)(s.p,{children:["For a full example, please see the ",(0,r.jsx)(s.a,{href:"https://github.com/OpenC3/cosmos-enterprise-plugins/tree/main/openc3-cosmos-gems-interface",children:"openc3-cosmos-gems-interface"})," in the COSMOS Enterprise Plugins."]}),"\n",(0,r.jsx)(s.h3,{id:"prometheus-enterprise",children:"Prometheus (Enterprise)"}),"\n",(0,r.jsx)(s.p,{children:"The PrometheusAccessor is used to read from a Prometheus endpoint and can automatically parse the results into a packet. The PrometheusAccessor is currently only implemented in Ruby."}),"\n",(0,r.jsxs)(s.p,{children:["For a full example, please see the ",(0,r.jsx)(s.a,{href:"https://github.com/OpenC3/cosmos-enterprise-plugins/tree/main/openc3-cosmos-prometheus-metrics",children:"openc3-cosmos-prometheus-metrics"})," in the COSMOS Enterprise Plugins."]}),"\n",(0,r.jsx)(s.h3,{id:"protocol-buffer-enterprise",children:"Protocol Buffer (Enterprise)"}),"\n",(0,r.jsxs)(s.p,{children:["The ProtoAccessor is used to read and write protocol buffers. It is primarily used in conjunction with the ",(0,r.jsx)(s.a,{href:"interfaces#grpc-interface-enterprise",children:"GrpcInterface"}),". The ProtoAccessor is currently only implemented in Ruby."]}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Parameter"}),(0,r.jsx)(s.th,{children:"Description"}),(0,r.jsx)(s.th,{children:"Required"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Filename"}),(0,r.jsx)(s.td,{children:"File generated by the protocol buffer compiler"}),(0,r.jsx)(s.td,{children:"Yes"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Class"}),(0,r.jsx)(s.td,{children:"Class to use when encoding and decoding the buffer"}),(0,r.jsx)(s.td,{children:"Yes"})]})]})]}),"\n",(0,r.jsxs)(s.p,{children:["For a full example, please see the ",(0,r.jsx)(s.a,{href:"https://github.com/OpenC3/cosmos-enterprise-plugins/tree/main/openc3-cosmos-proto-target",children:"openc3-cosmos-proto-target"})," in the COSMOS Enterprise Plugins."]})]})}function h(e={}){let{wrapper:s}={...(0,i.a)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},65:function(e,s,t){t.d(s,{Z:()=>a,a:()=>o});var n=t(7294);let r={},i=n.createContext(r);function o(e){let s=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);