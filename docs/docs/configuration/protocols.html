<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-configuration/protocols" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.7.0"><title data-rh=true>Protocols | OpenC3 Docs</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://docs.openc3.com/docs/configuration/protocols><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Protocols | OpenC3 Docs"><meta data-rh=true name=description content="Built-in COSMOS protocols including how to create one"><meta data-rh=true property=og:description content="Built-in COSMOS protocols including how to create one"><link data-rh=true rel=icon href=/img/favicon.png><link data-rh=true rel=canonical href=https://docs.openc3.com/docs/configuration/protocols><link data-rh=true rel=alternate href=https://docs.openc3.com/docs/configuration/protocols hreflang=en><link data-rh=true rel=alternate href=https://docs.openc3.com/docs/configuration/protocols hreflang=x-default><link rel=stylesheet href=/assets/css/styles.14dc8b06.css><script src=/assets/js/runtime~main.44d58d2c.js defer></script><script src=/assets/js/main.a47b2397.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"dark",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/img/logo.svg><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/logo.svg alt="OpenC3 Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/img/logo.svg alt="OpenC3 Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">OpenC3 Docs</b></a><a href=https://openc3.com target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Home</a><a href=https://openc3.com/enterprise/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Enterprise</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/docs>Documentation</a><a href=https://openc3.com/news/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">News</a><a href=https://openc3.com/contact/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Contact</a><a href=https://openc3.com/about/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">About</a></div><div class="navbar__items navbar__items--right"><a href=https://github.com/OpenC3/cosmos target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live=polite aria-pressed=true><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_pyhR><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_wfgR><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div><div class=navbarSearchContainer_Bca1><div class=navbar__search><span aria-label="expand searchbar" role=button class=search-icon tabindex=0></span><input id=search_input_react type=search placeholder=Loading... aria-label=Search class="navbar__search-input search-bar" disabled></div></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs>Introduction</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/getting-started>Getting Started</a><button aria-label="Expand sidebar category 'Getting Started'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/docs/configuration>Configuration</a><button aria-label="Collapse sidebar category 'Configuration'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/configuration/format>File Format</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/configuration/plugins>Plugins</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/configuration/target>Targets</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/configuration/command>Commands</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/configuration/telemetry>Telemetry</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/configuration/interfaces>Interfaces</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/configuration/protocols>Protocols</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/configuration/accessors>Accessors</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/configuration/table>Tables</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/configuration/telemetry-screens>Screens</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/configuration/ssl-tls>SSL-TLS</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/tools>Tools</a><button aria-label="Expand sidebar category 'Tools'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/guides>Guides</a><button aria-label="Expand sidebar category 'Guides'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/development>Development</a><button aria-label="Expand sidebar category 'Development'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/meta>Meta</a><button aria-label="Expand sidebar category 'Meta'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/privacy>OpenC3, Inc. Privacy Policy</a></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/docs/configuration><span itemprop=name>Configuration</span></a><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>Protocols</span><meta itemprop=position content=2></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Protocols</h1></header><p>Protocols process data on behalf of an <a href=/docs/configuration/interfaces>Interface</a>. They can modify the data being written, data being read, or both. Protocols can also mark a packet as stored instead of real-time which means COSMOS will not update the current value table with the packet data. Protocols can be layered and will be processed in order. For example, if you have a low-level encryption layer that must be first removed before processing a higher level buffer length protocol.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>Protocol Run Order</div><div class=admonitionContent_BuS1><p>Read protocols execute in the order specified (First specified runs first). Write protocols execute in the reverse order (Last specified executes first).</div></div>
<p>Protocols are typically used to define the logic to delineate packets and manipulate data as it written to and read from Interfaces. COSMOS includes Interfaces for TCP/IP Client, TCP/IP Server, Udp Client / Server, and Serial connections. For 99% of use cases these Interfaces should not require any changes as they universally handle the low-level details of reading and writing from these types of connections. All unique behavior should now be defined in Protocols.</p>
<p>At a minimum, any byte stream based Interface will require a Protocol to delineate packets. TCP/IP and Serial are examples of byte stream based Interfaces. A byte stream is just a simple stream of bytes and thus you need some way to know where packets begin and end within the stream.</p>
<p>TCP/IP is a friendly byte stream. Unless you are dealing with a very poorly written system, the first byte received on a TCP/IP connection will always be the start of a packet. Also, TCP/IP is a reliable connection in that it ensures that all data is received in the correct order, that no data is lost, and that the data is not corrupted (TCP/IP is protected by a CRC32 which is pretty good for avoiding unrecognized data corruption).</p>
<p>Serial is a much less friendly byte stream. With serial connections, it is very likely that when you open a serial port and start receiving data you will receive the middle of a message. (This problem is only avoided when interfacing with a system that only writes to the serial port in response to a command). For this reason, sync patterns are highly beneficial for serial interfaces. Additionally, serial interfaces may use some method to protect against unrecognized data corruption (Checksums, CRCs, etc.)</p>
<p>UDP is an inherently packet based connection. If you read from a UDP socket, you will always receive back an entire packet. The best UDP based Protocols take advantage of this fact. Some implementations try to make UDP act like a byte stream, but this is a misuse of the protocol because it is highly likely that you will lose data and have no way to recover.</p>
<p>For more information about how Protocols fit with Interfaces and Accessors see <a href=https://www.openc3.com/news/interoperability-without-standards target=_blank rel="noopener noreferrer">Interoperability Without Standards</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=packet-delineation-protocols>Packet Delineation Protocols<a href=#packet-delineation-protocols class=hash-link aria-label="Direct link to Packet Delineation Protocols" title="Direct link to Packet Delineation Protocols">​</a></h2>
<p>COSMOS provides the following packet delineation protocols: COBS, SLIP, Burst, Fixed, Length, Template (deprecated), Terminated and Preidentified. Each of these protocols has the primary purpose of separating out packets from a byte stream.</p>
<p>COSMOS Enterprise provides the following packet delineation protocols: CCSDS CLTU (with BCH Encoding), CCSDS TCTF (with Randomizer), CCSDS TMTF (with Randomizer), and GEMS.</p>
<p>Note that all protocols take a final parameter called "Allow Empty Data". This indicates whether the protocol will allow an empty string to be passed down to later Protocols (instead of returning <!-- -->:STOP<!-- -->). Can be true, false, or nil, where nil is interpreted as true unless the Protocol is the last Protocol of the chain. End users of a protocol will almost always simply leave off this parameter. For more information read the <a href=/docs/configuration/protocols#custom-protocols>Custom Protocols</a> documentation.</p>
<p>Note the first parameter after the PROTOCOL keyword is how to apply the protocol: READ, WRITE, or READ_WRITE. Read applies the protocol on incoming packets (telemetry) and write on outgoing packets (commands). The next parameter is the protocol filename or class name. All other parameters are protocol specific.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=cobs-protocol>COBS Protocol<a href=#cobs-protocol class=hash-link aria-label="Direct link to COBS Protocol" title="Direct link to COBS Protocol">​</a></h3>
<p>The Consistent Overhead Byte Stuffing (COBS) Protocol is an algorithm for encoding data bytes that results in efficient, reliable, unambiguous packet framing regardless of packet content, thus making it easy for receiving applications to recover from malformed packets. It employs the zero byte value to serve as a packet delimiter (a special value that indicates the boundary between packets). The algorithm replaces each zero data byte with a non-zero value so that no zero data bytes will appear in the packet and thus be misinterpreted as packet boundaries (See <a href=https://en.wikipedia.org/wiki/Consistent_Overhead_Byte_Stuffing target=_blank rel="noopener noreferrer">https://en.wikipedia.org/wiki/Consistent_Overhead_Byte_Stuffing</a> for more).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=slip-protocol>SLIP Protocol<a href=#slip-protocol class=hash-link aria-label="Direct link to SLIP Protocol" title="Direct link to SLIP Protocol">​</a></h3>
<p>The Serial Line IP (SLIP) Protocol defines a sequence of characters that frame IP packets on a serial line. It defines two special characters: END and ESC. END is 0xC0 and ESC is 0xDB. To send a packet, a SLIP host simply starts sending the data in the packet. If a data byte is the same code as END character, a two byte sequence of ESC and 0xDC is sent instead. If a data bytes is the same as an ESC character, an two byte sequence of ESC and 0xDD is sent instead. When the last byte in the packet has been sent, an END character is then transmitted (See <a href=https://datatracker.ietf.org/doc/html/rfc1055 target=_blank rel="noopener noreferrer">https://datatracker.ietf.org/doc/html/rfc1055</a> for more).</p>
<table><thead><tr><th>Parameter<th>Description<th>Required<th>Default<tbody><tr><td>Start Char<td>Character to place at the start of frames<td>No<td>nil (no character)<tr><td>Read Strip Characters<td>Strip off start_char and end_char from reads<td>No<td>true<tr><td>Read Enable Escaping<td>Whether to enable character escaping on reads<td>No<td>true<tr><td>Write Enable Escaping<td>Whether to enable character escaping on writes<td>No<td>true<tr><td>End Char<td>Character to place at the end of frames<td>No<td>0xC0<tr><td>Esc Char<td>Escape character<td>No<td>0xDB<tr><td>Escape End Char<td>Character to escape End character<td>No<td>0xDC<tr><td>Escape Esc Char<td>Character to escape Esc character<td>No<td>0xDD</table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=burst-protocol>Burst Protocol<a href=#burst-protocol class=hash-link aria-label="Direct link to Burst Protocol" title="Direct link to Burst Protocol">​</a></h3>
<p>The Burst Protocol simply reads as much data as it can from the interface before returning the data as a COSMOS Packet (It returns a packet for each burst of data read). This Protocol relies on regular bursts of data delimited by time and thus is not very robust. However, it can utilize a sync pattern which does allow it to re-sync if necessary. It can also discard bytes from the incoming data to remove the sync pattern. Finally, it can add sync patterns to data being written out of the Interface.</p>
<table><thead><tr><th>Parameter<th>Description<th>Required<th>Default<tbody><tr><td>Discard Leading Bytes<td>The number of bytes to discard from the binary data after reading. Note that this applies to bytes starting with the sync pattern if the sync pattern is being used.<td>No<td>0 (do not discard bytes)<tr><td>Sync Pattern<td>Hex string representing a byte pattern that will be searched for in the raw data. This pattern represents a packet delimiter and all data found including the sync pattern will be returned<td>No<td>nil (no sync pattern)<tr><td>Fill Fields<td>Whether to fill in the sync pattern on outgoing packets<td>No<td>false</table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=fixed-protocol>Fixed Protocol<a href=#fixed-protocol class=hash-link aria-label="Direct link to Fixed Protocol" title="Direct link to Fixed Protocol">​</a></h3>
<p>The Fixed Protocol reads a preset minimum amount of data which is necessary to properly identify all the defined packets using the interface. It then identifies the packet and proceeds to read as much data from the interface as necessary to create the packet which it then returns. This protocol relies on all the packets on the interface being fixed in length. For example, all the packets using the interface are a fixed size and contain a simple header with a 32-bit sync pattern followed by a 16 bit ID. The Fixed Protocol would elegantly handle this case with a minimum read size of 6 bytes. The Fixed Protocol also supports a sync pattern, discarding leading bytes, and filling the sync pattern similar to the Burst Protocol.</p>
<table><thead><tr><th>Parameter<th>Description<th>Required<th>Default<tbody><tr><td>Minimum ID Size<td>The minimum number of bytes needed to identify a packet. All the packet definitions must declare their ID_ITEM(s) within this given number of bytes.<td>Yes<td><tr><td>Discard Leading Bytes<td>The number of bytes to discard from the binary data after reading. Note that this applies to bytes starting with the sync pattern if the sync pattern is being used.<td>No<td>0 (do not discard bytes)<tr><td>Sync Pattern<td>Hex string representing a byte pattern that will be searched for in the raw data. This pattern represents a packet delimiter and all data found including the sync pattern will be returned.<td>No<td>nil (no sync pattern)<tr><td>Telemetry<td>Whether the data is telemetry<td>No<td>true (false means command)<tr><td>Fill Fields<td>Whether to fill in the sync pattern on outgoing packets<td>No<td>false<tr><td>Unknown Raise<td>Whether to raise an exception for an unknown packet<td>No<td>false</table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=length-protocol>Length Protocol<a href=#length-protocol class=hash-link aria-label="Direct link to Length Protocol" title="Direct link to Length Protocol">​</a></h3>
<p>The Length Protocol depends on a length field at a fixed location in the defined packets using the interface. It then reads enough data to grab the length field, decodes it, and reads the remaining length of the packet. For example, all the packets using the interface contain a CCSDS header with a length field. The Length Protocol can be set up to handle the length field and even the length offset CCSDS uses. The Length Protocol also supports a sync pattern, discarding leading bytes, and filling the length and sync pattern similar to the Burst Protocol.</p>
<table><thead><tr><th>Parameter<th>Description<th>Required<th>Default<tbody><tr><td>Length Bit Offset<td>The bit offset from the start of the packet to the length field. Every packet using this interface must have the same structure such that the length field is the same size at the same location. Be sure to account for the length of the Sync Pattern in this value (if present).<td>No<td>0 bits<tr><td>Length Bit Size<td>The size in bits of the length field<td>No<td>16 bits<tr><td>Length Value Offset<td>The offset to apply to the length field value. The actual value of the length field plus this offset should equal the exact number of bytes required to read all data for the packet (including the length field itself, sync pattern, etc). For example, if the length field indicates packet length minus one, this value should be one. Be sure to account for the length of the Sync Pattern in this value (if present).<td>No<td>0<tr><td>Bytes per Count<td>The number of bytes per each length field 'count'. This is used if the units of the length field is something other than bytes, e.g. if the length field count is in words.<td>No<td>1 byte<tr><td>Length Endianness<td>The endianness of the length field. Must be either 'BIG_ENDIAN' or 'LITTLE_ENDIAN'.<td>No<td>'BIG_ENDIAN'<tr><td>Discard Leading Bytes<td>The number of bytes to discard from the binary data after reading. Note that this applies to bytes including the sync pattern if the sync pattern is being used. Discarding is one of the very last steps so any size and offsets above need to account for all the data before discarding.<td>No<td>0 (do not discard bytes)<tr><td>Sync Pattern<td>Hex string representing a byte pattern that will be searched for in the raw data. This pattern represents a packet delimiter and all data found including the sync pattern will be returned.<td>No<td>nil (no sync pattern)<tr><td>Max Length<td>The maximum allowed value in the length field<td>No<td>nil (no maximum length)<tr><td>Fill Length and Sync Pattern<td>Setting this flag to true causes the length field and sync pattern (if present) to be filled automatically on outgoing packets.<td>No<td>false</table>
<p>The most confusing aspect of the Length Protocol is calculating the Length Value Offset. This is especially true in the commonly used CCSDS Space Packet Protocol. The best way to illustrate this is with an example. Suppose you have CCSDS Space Packets prepended with a Sync Pattern of 0x1ACFFC1D. This would look like the following:</p>
<table><thead><tr><th>Sync (4 bytes)<th>Header (4 bytes)<th>Length (2 bytes)<th>Data (4 bytes)<tbody><tr><td>0x1ACFFC1D<td>0x0001CADB<td>0x0003<td>0xDEADBEEF</table>
<p>In this case the total length of the packet is 14 bytes: <strong>4 + 4 + 2 + 4 = 14</strong>. With 4 bytes of data, the length field is 3 because in CCSDS the length field is calculated as (data length - 1). So how would we calculate the Length Value Offset? COSMOS reads all the bytes in the packet (including the Sync Pattern) so the total length is 14 bytes. The length field is 3 so the Length Value Offset (offset to apply to the length field value) should be 11 (<strong>3 + 11 = 14</strong>).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=terminated-protocol>Terminated Protocol<a href=#terminated-protocol class=hash-link aria-label="Direct link to Terminated Protocol" title="Direct link to Terminated Protocol">​</a></h3>
<p>The Terminated Protocol delineates packets using termination characters found at the end of every packet. It continuously reads data until the termination characters are found at which point it returns the packet data. For example, all the packets using the interface are followed by 0xABCD. This data can either be a part of each packet that is kept or something which is known only by the Terminated Protocol and simply thrown away.</p>
<table><thead><tr><th>Parameter<th>Description<th>Required<th>Default<tbody><tr><td>Write Termination Characters<td>The data to write after writing a command packet. Given as a hex string such as 0xABCD.<td>Yes<td><tr><td>Read Termination Characters<td>The characters which delineate the end of a telemetry packet. Given as a hex string such as 0xABCD.<td>Yes<td><tr><td>Strip Read Termination<td>Whether to remove the read termination characters before returning the telemetry packet<td>No<td>true<tr><td>Discard Leading Bytes<td>The number of bytes to discard from the binary data after reading. Note that this applies to bytes including the sync pattern if the sync pattern is being used.<td>No<td>0 (do not discard bytes)<tr><td>Sync Pattern<td>Hex string representing a byte pattern that will be searched for in the raw data. This pattern represents a packet delimiter and all data found including the sync pattern will be returned.<td>No<td>nil (no sync pattern)<tr><td>Fill Fields<td>Whether to fill in the sync pattern on outgoing packets<td>No<td>false</table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=gems-protocol-enterprise>GEMS Protocol (Enterprise)<a href=#gems-protocol-enterprise class=hash-link aria-label="Direct link to GEMS Protocol (Enterprise)" title="Direct link to GEMS Protocol (Enterprise)">​</a></h3>
<p>The GEMS Protocol implements the Ground Equipment Monitoring Service protocol. It is added along with the TerminatedProtocol which delineates packets using '|END'. The GEMS Interface is currently only implemented in Ruby.</p>
<p>The GEMS protocol doesn't take any parameters but should be added to an interface after the TerminatedProtocol and CmdResponseProtocol.</p>
<p>plugin.txt Ruby Example:</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token constant" style="color:rgb(130, 170, 255)">INTERFACE</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">GEMS_INT</span><span class="token plain"> tcpip_client_interface</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">rb openc3</span><span class="token operator" style="color:rgb(127, 219, 202)">-</span><span class="token plain">operator </span><span class="token number" style="color:rgb(247, 140, 108)">8080</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">8080</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10.0</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">nil</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">nil</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># TerminatedProtocol 0x7C454E44 0x7C454E44 false 0       0x7C47454D53 false ... means:</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#                    wtc        rtc        strip discard sync         fill</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># where wtc = write termination characters, end of the gems protocol: 0x7C454E44 == '|END'</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#       rtc = read termination characters, end of the gems protocol: 0x7C454E44 == '|END'</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#       strip = strip read termination (false)</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#       discard = 0 bytes</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#       sync pattern = beginning of the GEMS protocol: 0x7C47454D53 == '|GEMS'</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#       fill = whether to fill in the sync pattern (false as we specify fill in our cmd/tlm definitions)</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token constant" style="color:rgb(130, 170, 255)">PROTOCOL</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">READ</span><span class="token plain"> TerminatedProtocol </span><span class="token number" style="color:rgb(247, 140, 108)">0x7C454E44</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0x7C454E44</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0x7C47454D53</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># CmdResponseProtocol 5.0 0.2 true means:</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#   5 sec response timeout, 0.2 sec response polling,</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">#   and true to raise exceptions when protocol errors occur</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token constant" style="color:rgb(130, 170, 255)">PROTOCOL</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">READ_WRITE</span><span class="token plain"> CmdResponseProtocol </span><span class="token number" style="color:rgb(247, 140, 108)">5.0</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.2</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token constant" style="color:rgb(130, 170, 255)">PROTOCOL</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">READ_WRITE</span><span class="token plain"> GemsProtocol</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>For a full example, please see the <a href=https://github.com/OpenC3/cosmos-enterprise-plugins/tree/main/openc3-cosmos-gems-interface target=_blank rel="noopener noreferrer">openc3-cosmos-gems-interface</a> in the COSMOS Enterprise Plugins.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=ccsds-cltu-protocol-enterprise>CCSDS CLTU Protocol (Enterprise)<a href=#ccsds-cltu-protocol-enterprise class=hash-link aria-label="Direct link to CCSDS CLTU Protocol (Enterprise)" title="Direct link to CCSDS CLTU Protocol (Enterprise)">​</a></h3>
<p>The CCSDS CLTU Protocol handles the CLTU (Communicates Link Transfer Unit) for Command Streams. It encodes outgoing messages with a BCH encoding and then applies a header and footer to the data.</p>
<table><thead><tr><th>Parameter<th>Description<th>Required<th>Default<tbody><tr><td>Header<td>Header before BCH encoded data<td>No<td>0xEB90<tr><td>Footer<td>Footer after BCH encoded data<td>No<td>0xC5C5C5C5C5C5C579<tr><td>Fill Byte<td>BCH encoding fill byte<td>No<td>0x55</table>
<p>For a full example, please see the <a href=https://github.com/OpenC3/cosmos-enterprise-plugins/tree/main/openc3-cosmos-ccsds-protocols target=_blank rel="noopener noreferrer">openc3-cosmos-ccsds-protocols</a> in the COSMOS Enterprise Plugins.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=ccsds-tctf-protocol-enterprise>CCSDS TCTF Protocol (Enterprise)<a href=#ccsds-tctf-protocol-enterprise class=hash-link aria-label="Direct link to CCSDS TCTF Protocol (Enterprise)" title="Direct link to CCSDS TCTF Protocol (Enterprise)">​</a></h3>
<p>The CCSDS TCTF Protocol handles the Telecommand Transfer Frame for Command Streams.</p>
<table><thead><tr><th>Parameter<th>Description<th>Required<th>Default<tbody><tr><td>Randomization<td>Whether to encode and randomize the transfer frame<td>No<td>true<tr><td>Error Control<td>Whether to use the Frame Error Control Field and apply a 16 bit CRC<td>No<td>false<tr><td>Bypass<td>Bypass bit where 0 is Type-A and 1 is Type-B (bypass frame acceptance checks)<td>No<td>1<tr><td>SCID<td>Spacecraft Identifier (10 bits)<td>No<td>0<tr><td>VCID<td>Virtual Channel Identifier (6 bits)<td>No<td>0</table>
<p>For a full example, please see the <a href=https://github.com/OpenC3/cosmos-enterprise-plugins/tree/main/openc3-cosmos-ccsds-protocols target=_blank rel="noopener noreferrer">openc3-cosmos-ccsds-protocols</a> in the COSMOS Enterprise Plugins.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=ccsds-tmtf-protocol-enterprise>CCSDS TMTF Protocol (Enterprise)<a href=#ccsds-tmtf-protocol-enterprise class=hash-link aria-label="Direct link to CCSDS TMTF Protocol (Enterprise)" title="Direct link to CCSDS TMTF Protocol (Enterprise)">​</a></h3>
<p>The CCSDS TMTF Protocol handles the Telemetry Transfer Frame for Telemetry Streams. It adds VCID, MC_FRM_CNT, VC_FRM_CNT to extra which will be included in the Decom data.</p>
<table><thead><tr><th>Parameter<th>Description<th>Required<th>Default<tbody><tr><td>SCID<td>Spacecraft Identifier (10 bits)<td>Yes<td><tr><td>Frame Length<td><td>No<td>2048<tr><td>Randomization<td>Whether the transfer frame was encoded and randomized<td>No<td>true<tr><td>Discard Leading Bytes<td>The number of bytes to discard from the binary data after reading. Note that this applies to bytes including the sync pattern if the sync pattern is being used.<td>No<td>0 (do not discard bytes)<tr><td>Sync Pattern<td>Hex string representing a byte pattern that will be searched for in the raw data. This pattern represents a packet delimiter and all data found including the sync pattern will be returned.<td>No<td>0x1ACFFC1D<tr><td>Fill Fields<td>Whether to fill in the sync pattern on outgoing packets<td>No<td>true</table>
<p>For a full example, please see the <a href=https://github.com/OpenC3/cosmos-enterprise-plugins/tree/main/openc3-cosmos-ccsds-protocols target=_blank rel="noopener noreferrer">openc3-cosmos-ccsds-protocols</a> in the COSMOS Enterprise Plugins.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=template-protocol-deprecated>Template Protocol (Deprecated)<a href=#template-protocol-deprecated class=hash-link aria-label="Direct link to Template Protocol (Deprecated)" title="Direct link to Template Protocol (Deprecated)">​</a></h3>
<p>This protocol is now deprecated because it is not able to capture the original SCPI messages in COSMOS raw logging. Please use the TemplateAccessor with the CmdResponseProtocol instead.</p>
<p>The Template Protocol works much like the Terminated Protocol except it is designed for text-based command and response type interfaces such as SCPI (Standard Commands for Programmable Instruments). It delineates packets in the same way as the Terminated Protocol except each packet is referred to as a line (because each usually contains a line of text). For outgoing packets, a CMD_TEMPLATE field is expected to exist in the packet. This field contains a template string with items to be filled in delineated within HTML tag style brackets <code>"&lt;EXAMPLE>"</code>. The Template Protocol will read the named items from within the packet and fill in the CMD_TEMPLATE. This filled in string is then sent out rather than the originally passed in packet. Correspondingly, if a response is expected the outgoing packet should include a RSP_TEMPLATE and RSP_PACKET field. The RSP_TEMPLATE is used to extract data from the response string and build a corresponding RSP_PACKET. See the TEMPLATE target within the COSMOS Demo configuration for an example of usage.</p>
<table><thead><tr><th>Parameter<th>Description<th>Required<th>Default<tbody><tr><td>Write Termination Characters<td>The data to write after writing a command packet. Given as a hex string such as 0xABCD.<td>Yes<td><tr><td>Read Termination Characters<td>The characters which delineate the end of a telemetry packet. Given as a hex string such as 0xABCD.<td>Yes<td><tr><td>Ignore Lines<td>Number of response lines to ignore (completely drop)<td>No<td>0 lines<tr><td>Initial Read Delay<td>An initial delay after connecting after which the interface will be read till empty and data dropped. Useful for discarding connect headers and initial prompts.<td>No<td>nil (no initial read)<tr><td>Response Lines<td>The number of lines that make up expected responses<td>No<td>1 line<tr><td>Strip Read Termination<td>Whether to remove the read termination characters before returning the telemetry packet<td>No<td>true<tr><td>Discard Leading Bytes<td>The number of bytes to discard from the binary data after reading. Note that this applies to bytes including the sync pattern if the sync pattern is being used.<td>No<td>0 (do not discard bytes)<tr><td>Sync Pattern<td>Hex string representing a byte pattern that will be searched for in the raw data. This pattern represents a packet delimiter and all data found including the sync pattern will be returned.<td>No<td>nil (no sync pattern)<tr><td>Fill Fields<td>Whether to fill in the sync pattern on outgoing packets<td>No<td>false<tr><td>Response Timeout<td>Number of seconds to wait for a response before timing out<td>No<td>5.0<tr><td>Response Polling Period<td>Number of seconds to wait between polling for a response<td>No<td>0.02<tr><td>Raise Exceptions<td>Whether to raise exceptions when errors occur like timeouts or unexpected responses<td>No<td>false</table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=preidentified-protocol-internal>Preidentified Protocol (Internal)<a href=#preidentified-protocol-internal class=hash-link aria-label="Direct link to Preidentified Protocol (Internal)" title="Direct link to Preidentified Protocol (Internal)">​</a></h3>
<p>The Preidentified Protocol delineates packets using a custom COSMOS header. This internal Protocol was created to allow tools to connect and receive the entire packet stream. It can also be used to chain COSMOS instances together although that should rarely be needed with the new web native implementation.</p>
<table><thead><tr><th>Parameter<th>Description<th>Required<th>Default<tbody><tr><td>Sync Pattern<td>Hex string representing a byte pattern that will be searched for in the raw data. This pattern represents a packet delimiter and all data found AFTER the sync pattern will be returned. The sync pattern itself is discarded.<td>No<td>nil (no sync pattern)<tr><td>Max Length<td>The maximum allowed value in the length field<td>No<td>nil (no maximum length)<tr><td>Mode<td>The Version of the preidentified protocol to support (2 or 4).3<td>No<td>4</table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=helper-protocols>Helper Protocols<a href=#helper-protocols class=hash-link aria-label="Direct link to Helper Protocols" title="Direct link to Helper Protocols">​</a></h2>
<p>COSMOS provides the following helper protocols: CmdResponse, Crc and Ignore. These protocols provide helper functionality to Interfaces.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=cmdresponse-protocol>CmdResponse Protocol<a href=#cmdresponse-protocol class=hash-link aria-label="Direct link to CmdResponse Protocol" title="Direct link to CmdResponse Protocol">​</a></h3>
<p>The CmdResponse Protocol waits for a response for any commands with a defined response packet.</p>
<table><thead><tr><th>Parameter<th>Description<th>Required<th>Default<tbody><tr><td>Response Timeout<td>Number of seconds to wait before timing out when waiting for a response<td>No<td>5<tr><td>Response Polling Period<td>Number of seconds to wait between polling for a response<td>No<td>0.02<tr><td>Raise Exceptions<td>Whether to raise exceptions when errors occur in the protocol like unexpected responses or response timeouts<td>No<td>false</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=packet-definitions>Packet Definitions<a href=#packet-definitions class=hash-link aria-label="Direct link to Packet Definitions" title="Direct link to Packet Definitions">​</a></h4>
<p>The CmdResponseProtocol utilizes the <a href=/docs/configuration/command#response>RESPONSE</a> keyword in the command definition to determine which telemetry packet should be expected when the given command is sent.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token plain">COMMAND SCPI_PS GET_STATUS BIG_ENDIAN "Gets status"</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  ACCESSOR TemplateAccessor</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  TEMPLATE ":MEAS:VOLT? (@1:2)"</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  RESPONSE SCPI_PS STATUS</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The Response packet (STATUS) should be defined to contain the response data.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token plain">TELEMETRY SCPI_PS STATUS BIG_ENDIAN "Status"</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  ACCESSOR TemplateAccessor</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  TEMPLATE "&lt;MEAS_VOLTAGE_1>,&lt;MEAS_VOLTAGE_2>"</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  APPEND_ITEM MEAS_VOLTAGE_1 32 FLOAT "Voltage Reading for Channel 1"</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    UNITS VOLTS V</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    FORMAT_STRING %0.3f</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  APPEND_ITEM MEAS_VOLTAGE_2 32 FLOAT "Voltage Reading for Channel 2"</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    UNITS VOLTS V</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    FORMAT_STRING %0.3f</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>For a full example, please see the <a href=https://github.com/OpenC3/cosmos-enterprise-plugins/tree/main/openc3-cosmos-scpi-power-supply target=_blank rel="noopener noreferrer">openc3-cosmos-scpi-power-supply</a> in the COSMOS Enterprise Plugins.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=crc-protocol>CRC Protocol<a href=#crc-protocol class=hash-link aria-label="Direct link to CRC Protocol" title="Direct link to CRC Protocol">​</a></h3>
<p>The CRC protocol can add CRCs to outgoing commands and verify CRCs on incoming telemetry packets.</p>
<table><thead><tr><th>Parameter<th>Description<th>Required<th>Default<tbody><tr><td>Write Item Name<td>Item to fill with calculated CRC value for outgoing packets (nil = don't fill)<td>No<td>nil<tr><td>Strip CRC<td>Whether to remove the CRC from incoming packets<td>No<td>false<tr><td>Bad Strategy<td>How to handle CRC errors on incoming packets. ERROR = Just log the error, DISCONNECT = Disconnect interface<td>No<td>"ERROR"<tr><td>Bit Offset<td>Bit offset of the CRC in the data. Can be negative to indicate distance from end of packet<td>No<td>-32<tr><td>Bit Size<td>Bit size of the CRC - Must be 16, 32, or 64<td>No<td>32<tr><td>Endianness<td>Endianness of the CRC (BIG_ENDIAN/LITTLE_ENDIAN)<td>No<td>"BIG_ENDIAN"<tr><td>Poly<td>Polynomial to use when calculating the CRC expressed as an integer<td>No<td>nil (use default polynomial - 16-bit=0x1021, 32-bit=0x04C11DB7, 64-bit=0x42F0E1EBA9EA3693)<tr><td>Seed<td>Seed value to start the calculation<td>No<td>nil (use default seed - 16-bit=0xFFFF, 32-bit=0xFFFFFFFF, 64-bit=0xFFFFFFFFFFFFFFFF)<tr><td>Xor<td>Whether to XOR the CRC result with 0xFFFF<td>No<td>nil (use default value - 16-bit=false, 32-bit=true, 64-bit=true)<tr><td>Reflect<td>Whether to bit reverse each byte of data before calculating the CRC<td>No<td>nil (use default value - 16-bit=false, 32-bit=true, 64-bit=true)</table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=ignore-packet-protocol>Ignore Packet Protocol<a href=#ignore-packet-protocol class=hash-link aria-label="Direct link to Ignore Packet Protocol" title="Direct link to Ignore Packet Protocol">​</a></h3>
<p>The Ignore Packet protocol drops specified command packets sent by COSMOS or drops incoming telemetry packets.</p>
<table><thead><tr><th>Parameter<th>Description<th>Required<th>Default<tbody><tr><td>Target Name<td>Target name of the packet to ignore<td>Yes<td>nil<tr><td>Packet Name<td>Packet name of the packet to ignore<td>Yes<td>nil</table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=custom-protocols>Custom Protocols<a href=#custom-protocols class=hash-link aria-label="Direct link to Custom Protocols" title="Direct link to Custom Protocols">​</a></h2>
<p>Creating a custom protocol is easy and should be the default solution for customizing COSMOS Interfaces (rather than creating a new Interface class). However, creating custom Interfaces is still useful for defaulting parameters to values that always are fixed for your target and for including the necessary Protocols. The base COSMOS Interfaces take a lot of parameters that can be confusing to your end users. Thus you may want to create a custom Interface just to hard coded these values and cut the available parameters down to something like the hostname and port to connect to.</p>
<p>All custom Protocols should derive from the Protocol class <a href=https://github.com/OpenC3/cosmos/blob/main/openc3/lib/openc3/interfaces/protocols/protocol.rb target=_blank rel="noopener noreferrer">openc3/interfaces/protocols/protocol.rb</a> (Ruby) and <a href=https://github.com/OpenC3/cosmos/blob/main/openc3/python/openc3/interfaces/protocols/protocol.py target=_blank rel="noopener noreferrer">openc3/interfaces/protocols/protocol.py</a> (Python). This class defines the 9 methods that are relevant to writing your own protocol. The base class implementation for each method is included below as well as a discussion as to how the methods should be overridden and used in your own Protocols.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>Ruby Protocol APIs</div><div class=admonitionContent_BuS1><p>Protocols should not <code>require 'openc3/script'</code> since they are part of a COSMOS interface. They should use the COSMOS library code directly like <a href=https://github.com/OpenC3/cosmos/blob/main/openc3/lib/openc3/system/system.rb target=_blank rel="noopener noreferrer">System</a>, <a href=https://github.com/OpenC3/cosmos/blob/main/openc3/lib/openc3/packets/packet.rb target=_blank rel="noopener noreferrer">Packet</a>, <a href=https://github.com/OpenC3/cosmos/blob/main/openc3/lib/openc3/utilities/bucket.rb target=_blank rel="noopener noreferrer">Bucket</a>, <a href=https://github.com/OpenC3/cosmos/blob/main/openc3/lib/openc3/accessors/binary_accessor.rb target=_blank rel="noopener noreferrer">BinaryAccessor</a>, etc. When in doubt, consult the existing COSMOS <a href=https://github.com/OpenC3/cosmos/tree/main/openc3/lib/openc3/interfaces/protocols target=_blank rel="noopener noreferrer">protocol</a> classes.</div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>Python Protocol APIs</div><div class=admonitionContent_BuS1><p>Protocols should not <code>from openc3.script import *</code> since they are part of a COSMOS interface. They should use the COSMOS library code directly like <a href=https://github.com/OpenC3/cosmos/blob/main/openc3/python/openc3/system/system.py target=_blank rel="noopener noreferrer">System</a>, <a href=https://github.com/OpenC3/cosmos/blob/main/openc3/python/openc3/packets/packet.py target=_blank rel="noopener noreferrer">Packet</a>, <a href=https://github.com/OpenC3/cosmos/blob/main/openc3/python/openc3/utilities/bucket.py target=_blank rel="noopener noreferrer">Bucket</a>, <a href=https://github.com/OpenC3/cosmos/blob/main/openc3/python/openc3/accessors/binary_accessor.py target=_blank rel="noopener noreferrer">BinaryAccessor</a>, etc. When in doubt, consult the existing COSMOS <a href=https://github.com/OpenC3/cosmos/tree/main/openc3/python/openc3/interfaces/protocols target=_blank rel="noopener noreferrer">protocol</a> classes.</div></div>
<p>To really understand how Protocols work, you first must understand the logic within the base Interface class read and write methods.</p>
<p>Let's first discuss the read method.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>Ruby Symbols, Python Strings</div><div class=admonitionContent_BuS1><p>In the following discussions an all caps word is a symbol in Ruby and a string in Python. So a reference to STOP means <!-- -->:STOP<!-- --> in Ruby and "STOP" in Python.</div></div>
<p><img decoding=async loading=lazy alt="Interface Read Logic" src=/assets/images/interface_read_logic-0deef27c1d2fec9de2a3720a3c9ecedb21a00dca7aabd13da0b8815c037e4c26.png width=1063 height=542 class=img_ev3q></p>
<p>On <em>every</em> call to read, an empty string "" is first passed down to each of the read Protocol's <code>read_data()</code> method <em>before</em> new raw data is attempted to be read using the Interface's <code>read_interface()</code> method. This is a signal to Protocols that have cached up more than one packet worth of data to output those cached packets before any new data is read from the Interface. Typically no data will be cached up and one of the Protocols <code>read_data()</code> methods will return STOP in response to the empty string, indicating that more data is required to generate a packet. Each Protocol's <code>read_data()</code> method can return one of three things: data that will be passed down to any additional Protocols or turned into a Packet, STOP which means more data is required from the Interface for the Protocol to continue, or DISCONNECT which means that something has happened that requires disconnecting the Interface (and by default trying to reconnect). Each Protocol's <code>read_data()</code> method is passed the data that will eventually be turned into a packet and returns a possibly modified set of data. If the data passes through all Protocol's <code>read_data()</code> methods it is then converted into a COSMOS packet using the Interface's convert_data_to_packet() method. This packet is then run in a similar fashion through each Read Protocol's read_packet() method. This method has essentially the same return possibilities: a Packet (instead of data as in <code>read_data()</code>), STOP, or DISCONNECT. If the Packet makes it through all read_packet() methods then the Interface packet read counter is incremented and the Packet is returned to the Interface.</p>
<p><img decoding=async loading=lazy alt="Interface Write Logic" src=/assets/images/interface_write_logic-3360afe1b4af20b10dafba848a21e09baccaacc06e2ec8b6c132ac7a3c99e994.png width=931 height=944 class=img_ev3q></p>
<p>The Interface write() method works very similarly to read. (It should be mentioned that by default write protocols run in the reverse order of read protocols. This makes sense because when reading you're typically stripping layers of data and when writing you're typically adding on layers in reverse order.)</p>
<p>First, the packet write counter is incremented. Then each write Protocol is given a chance to modify the packet by its write_packet() method being called. This method can either return a potentially modified packet, STOP, or DISCONNECT. If a write Protocol returns STOP no data will be written out the Interface and it is assumed that more packets are necessary before a final packet can be output. DISCONNECT will disconnect the Interface. If the packet makes it through all the write Protocol's write_packet() methods, then it is converted to binary data using the Interface's convert_packet_to_data() method. Next the write_data() method is called for each write Protocol giving it a chance to modify the lower level data. The same return options are available except a Ruby string of data is returned instead of a COSMOS packet. If the data makes it through all write_data() methods, then it is written out on the Interface using the write_interface() method. Afterwards, each Protocol's post_write_interface() method is called with both the final modified Packet, and the actual data written out to the Interface. This method allows follow-up such as waiting for a response after writing out a message.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=method-discussions>Method discussions<a href=#method-discussions class=hash-link aria-label="Direct link to Method discussions" title="Direct link to Method discussions">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=initialize-or-init>initialize or <strong>init</strong><a href=#initialize-or-init class=hash-link aria-label="Direct link to initialize-or-init" title="Direct link to initialize-or-init">​</a></h3>
<p>This is the constructor for your custom Protocol. It should always call super(allow_empty_data) to initialize the base Protocol class.</p>
<p>Base class Ruby implementation:</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># @param allow_empty_data [true/false] Whether STOP should be returned on empty data</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(130, 170, 255)">initialize</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">allow_empty_data </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token variable" style="color:rgb(214, 222, 235)">@interface</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">nil</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token variable" style="color:rgb(214, 222, 235)">@allow_empty_data</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> ConfigParser</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">handle_true_false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">allow_empty_data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  reset</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">end</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Base class Python implementation:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">__init__</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> allow_empty_data</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">None</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">interface </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">None</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">allow_empty_data </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> ConfigParser</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">handle_true_false_none</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">allow_empty_data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">reset</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>As you can see, every Protocol maintains state on at least two items. The interface variable holds the Interface class instance that the protocol is associated with. This is sometimes necessary to introspect details that only the Interface knows. allow_empty_data is a flag used by the <code>read_data(data)</code> method that is discussed later in this document.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=reset>reset<a href=#reset class=hash-link aria-label="Direct link to reset" title="Direct link to reset">​</a></h3>
<p>The reset method is used to reset internal protocol state when the Interface is connected and/or disconnected. This method should be used for common resetting logic. Connect and Disconnect specific logic are handled in the next two methods.</p>
<p>Base class Ruby implementation:</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(130, 170, 255)">reset</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">end</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Base class Python implementation:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">reset</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">pass</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>As you can see, the base class reset implementation doesn't do anything.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=connect_reset>connect_reset<a href=#connect_reset class=hash-link aria-label="Direct link to connect_reset" title="Direct link to connect_reset">​</a></h3>
<p>The connect_reset method is used to reset internal Protocol state each time the Interface is connected.</p>
<p>Base class Ruby implementation:</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(130, 170, 255)">connect_reset</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  reset</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">end</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Base class Python implementation:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">connect_reset</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">reset</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The base class connect_reset implementation just calls the reset method to ensure common reset logic is run.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=disconnect_reset>disconnect_reset<a href=#disconnect_reset class=hash-link aria-label="Direct link to disconnect_reset" title="Direct link to disconnect_reset">​</a></h3>
<p>The disconnect_reset method is used to reset internal Protocol state each time the Interface is disconnected.</p>
<p>Base class Ruby implementation:</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(130, 170, 255)">disconnect_reset</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  reset</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">end</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Base class Python implementation:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">disconnect_reset</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">reset</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The base class disconnect_reset implementation just calls the reset method to ensure common reset logic is run.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=read_data>read_data<a href=#read_data class=hash-link aria-label="Direct link to read_data" title="Direct link to read_data">​</a></h3>
<p>The read_data method is used to analyze and potentially modify any raw data read by an Interface. It takes one parameter as the current state of the data to be analyzed. It can return either a string of data, STOP, or DISCONNECT. If it returns a string, then it believes that data may be ready to be a full packet, and is ready for processing by any following Protocols. If STOP is returned then the Protocol believes it needs more data to complete a full packet. If DISCONNECT is returned then the Protocol believes the Interface should be disconnected (and typically automatically reconnected).</p>
<p>Base class Ruby implementation:</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(130, 170, 255)">read_data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">length </span><span class="token operator" style="color:rgb(127, 219, 202)">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">@allow_empty_data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token keyword" style="color:rgb(127, 219, 202)">nil</span><span class="token operator" style="color:rgb(127, 219, 202)">?</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">      </span><span class="token keyword" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">@interface</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">and</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">@interface</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">read_protocols</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token operator" style="color:rgb(127, 219, 202)">-</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">self</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Last read interface in chain with auto @allow_empty_data</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">        </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token symbol">:STOP</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">      </span><span class="token keyword" style="color:rgb(127, 219, 202)">end</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">elsif</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">!</span><span class="token variable" style="color:rgb(214, 222, 235)">@allow_empty_data</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Don't @allow_empty_data means STOP</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">      </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token symbol">:STOP</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">end</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">end</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  data</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">end</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Base class Python implementation:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">read_data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> extra</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">None</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">len</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">        </span><span class="token keyword" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">allow_empty_data </span><span class="token keyword" style="color:rgb(127, 219, 202)">is</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">None</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">            </span><span class="token keyword" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">interface </span><span class="token keyword" style="color:rgb(127, 219, 202)">and</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">interface</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">read_protocols</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token operator" style="color:rgb(127, 219, 202)">-</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">==</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">                </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Last read interface in chain with auto self.allow_empty_data</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">                </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">"STOP"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> extra</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">        </span><span class="token keyword" style="color:rgb(127, 219, 202)">elif</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">allow_empty_data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">            </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Don't self.allow_empty_data means STOP</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">            </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">"STOP"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> extra</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> extra</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The base class implementation does nothing except return the data it was given. The only exception to this is when handling an empty string. If the allow_empty_data flag is false / False or if it is nil / None and the Protocol is the last in the chain, then the base implementation will return STOP to indicate that it is time to call the Interface <code>read_interface()</code> method to get more data. Blank strings are used to signal Protocols that they have an opportunity to return a cached packet.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=read_packet>read_packet<a href=#read_packet class=hash-link aria-label="Direct link to read_packet" title="Direct link to read_packet">​</a></h3>
<p>The read_packet method is used to analyze and potentially modify a COSMOS packet before it is returned by the Interface. It takes one parameter as the current state of the packet to be analyzed. It can return either a COSMOS packet, STOP, or DISCONNECT. If it returns a COSMOS packet, then it believes that the packet is valid, should be returned, and is ready for processing by any following Protocols. If STOP is returned then the Protocol believes the packet should be silently dropped. If DISCONNECT is returned then the Protocol believes the Interface should be disconnected (and typically automatically reconnected). This method is where a Protocol would set the stored flag on a packet if it determines that the packet is stored telemetry instead of real-time telemetry.</p>
<p>Base class Ruby implementation:</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(130, 170, 255)">read_packet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">packet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> packet</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">end</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Base class Python implementation:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">read_packet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> packet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> packet</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The base class always just returns the packet given.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=write_packet>write_packet<a href=#write_packet class=hash-link aria-label="Direct link to write_packet" title="Direct link to write_packet">​</a></h3>
<p>The write_packet method is used to analyze and potentially modify a COSMOS packet before it is output by the Interface. It takes one parameter as the current state of the packet to be analyzed. It can return either a COSMOS packet, STOP, or DISCONNECT. If it returns a COSMOS packet, then it believes that the packet is valid, should be written out the Interface, and is ready for processing by any following Protocols. If STOP is returned then the Protocol believes the packet should be silently dropped. If DISCONNECT is returned then the Protocol believes the Interface should be disconnected (and typically automatically reconnected).</p>
<p>Base class Ruby implementation:</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(130, 170, 255)">write_packet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">packet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> packet</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">end</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Base class Python implementation:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">write_packet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> packet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> packet</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The base class always just returns the packet given.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=write_data>write_data<a href=#write_data class=hash-link aria-label="Direct link to write_data" title="Direct link to write_data">​</a></h3>
<p>The write_data method is used to analyze and potentially modify data before it is written out by the Interface. It takes one parameter as the current state of the data to be analyzed and sent. It can return either a string of data, STOP, or DISCONNECT. If it returns a string of data, then it believes that the data is valid, should be written out the Interface, and is ready for processing by any following Protocols. If STOP is returned then the Protocol believes the data should be silently dropped. If DISCONNECT is returned then the Protocol believes the Interface should be disconnected (and typically automatically reconnected).</p>
<p>Base class Ruby implementation:</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(130, 170, 255)">write_data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> data</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">end</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Base class Python implementation:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">write_data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> extra</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">None</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> extra</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The base class always just returns the data given.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=post_write_interface>post_write_interface<a href=#post_write_interface class=hash-link aria-label="Direct link to post_write_interface" title="Direct link to post_write_interface">​</a></h3>
<p>The post_write_interface method is called after data has been written out the Interface. The typical use of this method is to provide a hook to implement command/response type interfaces where a response is always immediately expected in response to a command. It takes two parameters, the packet after all modifications by <code>write_packet()</code> and the data that was actually written out the Interface. It can return either the same pair of packet/data, STOP, or DISCONNECT. If it returns a packet/data pair then they are passed on to any other Protocols. If STOP is returned then the Interface write() call completes and no further Protocols <code>post_write_interface()</code> methods are called. If DISCONNECT is returned then the Protocol believes the Interface should be disconnected (and typically automatically reconnected). Note that only the first parameter "packet", is checked to be STOP, or DISCONNECT on the return.</p>
<p>Base class Ruby implementation:</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(130, 170, 255)">post_write_interface</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">packet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> packet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> data</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">end</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Base class Python implementation:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">post_write_interface</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> packet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> extra</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">None</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">packet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> extra</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The base class always just returns the packet/data given.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=protocol_cmd>protocol_cmd<a href=#protocol_cmd class=hash-link aria-label="Direct link to protocol_cmd" title="Direct link to protocol_cmd">​</a></h3>
<p>The protocol_cmd method is used to send commands to the protocol itself. This is useful to change protocol behavior during runtime. See <a href=/docs/guides/scripting-api#interface_protocol_cmd>interface_protocol_cmd</a> for more information.</p>
<p>Base class Ruby implementation:</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:rgb(130, 170, 255)">protocol_cmd</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">cmd_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">*</span><span class="token plain">cmd_args</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Default do nothing - Implemented by subclasses</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">end</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Base class Python implementation:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token keyword" style="color:rgb(127, 219, 202)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">protocol_cmd</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> cmd_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">*</span><span class="token plain">cmd_args</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Default do nothing - Implemented by subclasses</span><span class="token plain"></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">False</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The base class does nothing as this is special functionality implemented by subclasses.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=examples>Examples<a href=#examples class=hash-link aria-label="Direct link to Examples" title="Direct link to Examples">​</a></h2>
<p>Please see the linked <a href=https://github.com/OpenC3/cosmos/blob/main/openc3/lib/openc3/interfaces/protocols target=_blank rel="noopener noreferrer">Ruby Protocol</a> and <a href=https://github.com/OpenC3/cosmos/blob/main/openc3/python/openc3/interfaces/protocols target=_blank rel="noopener noreferrer">Python Protocol</a> code for examples of the above methods in action.</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/OpenC3/cosmos/tree/main/docs.openc3.com/docs/configuration/protocols.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/configuration/interfaces><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Interfaces</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/configuration/accessors><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Accessors</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#packet-delineation-protocols class="table-of-contents__link toc-highlight">Packet Delineation Protocols</a><ul><li><a href=#cobs-protocol class="table-of-contents__link toc-highlight">COBS Protocol</a><li><a href=#slip-protocol class="table-of-contents__link toc-highlight">SLIP Protocol</a><li><a href=#burst-protocol class="table-of-contents__link toc-highlight">Burst Protocol</a><li><a href=#fixed-protocol class="table-of-contents__link toc-highlight">Fixed Protocol</a><li><a href=#length-protocol class="table-of-contents__link toc-highlight">Length Protocol</a><li><a href=#terminated-protocol class="table-of-contents__link toc-highlight">Terminated Protocol</a><li><a href=#gems-protocol-enterprise class="table-of-contents__link toc-highlight">GEMS Protocol (Enterprise)</a><li><a href=#ccsds-cltu-protocol-enterprise class="table-of-contents__link toc-highlight">CCSDS CLTU Protocol (Enterprise)</a><li><a href=#ccsds-tctf-protocol-enterprise class="table-of-contents__link toc-highlight">CCSDS TCTF Protocol (Enterprise)</a><li><a href=#ccsds-tmtf-protocol-enterprise class="table-of-contents__link toc-highlight">CCSDS TMTF Protocol (Enterprise)</a><li><a href=#template-protocol-deprecated class="table-of-contents__link toc-highlight">Template Protocol (Deprecated)</a><li><a href=#preidentified-protocol-internal class="table-of-contents__link toc-highlight">Preidentified Protocol (Internal)</a></ul><li><a href=#helper-protocols class="table-of-contents__link toc-highlight">Helper Protocols</a><ul><li><a href=#cmdresponse-protocol class="table-of-contents__link toc-highlight">CmdResponse Protocol</a><ul><li><a href=#packet-definitions class="table-of-contents__link toc-highlight">Packet Definitions</a></ul><li><a href=#crc-protocol class="table-of-contents__link toc-highlight">CRC Protocol</a><li><a href=#ignore-packet-protocol class="table-of-contents__link toc-highlight">Ignore Packet Protocol</a></ul><li><a href=#custom-protocols class="table-of-contents__link toc-highlight">Custom Protocols</a><li><a href=#method-discussions class="table-of-contents__link toc-highlight">Method discussions</a><ul><li><a href=#initialize-or-init class="table-of-contents__link toc-highlight">initialize or <strong>init</strong></a><li><a href=#reset class="table-of-contents__link toc-highlight">reset</a><li><a href=#connect_reset class="table-of-contents__link toc-highlight">connect_reset</a><li><a href=#disconnect_reset class="table-of-contents__link toc-highlight">disconnect_reset</a><li><a href=#read_data class="table-of-contents__link toc-highlight">read_data</a><li><a href=#read_packet class="table-of-contents__link toc-highlight">read_packet</a><li><a href=#write_packet class="table-of-contents__link toc-highlight">write_packet</a><li><a href=#write_data class="table-of-contents__link toc-highlight">write_data</a><li><a href=#post_write_interface class="table-of-contents__link toc-highlight">post_write_interface</a><li><a href=#protocol_cmd class="table-of-contents__link toc-highlight">protocol_cmd</a></ul><li><a href=#examples class="table-of-contents__link toc-highlight">Examples</a></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>Homepage</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://openc3.com target=_blank rel="noopener noreferrer" class=footer__link-item>Home</a></ul></div><div class="col footer__col"><div class=footer__title>Docs</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/docs>Documentation</a></ul></div><div class="col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://www.linkedin.com/company/openc3 target=_blank rel="noopener noreferrer" class=footer__link-item>LinkedIn<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div><div class="col footer__col"><div class=footer__title>More</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/OpenC3/cosmos target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a class=footer__link-item href=/docs/privacy>Privacy</a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2025 OpenC3, Inc.</div></div></div></footer></div>