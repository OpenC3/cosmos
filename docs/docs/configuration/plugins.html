<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-configuration/plugins" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">Plugins | OpenC3 Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.openc3.com/docs/configuration/plugins"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Plugins | OpenC3 Docs"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://docs.openc3.com/docs/configuration/plugins"><link data-rh="true" rel="alternate" href="https://docs.openc3.com/docs/configuration/plugins" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.openc3.com/docs/configuration/plugins" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.8aaa91f1.css">
<script src="/assets/js/runtime~main.751bc446.js" defer="defer"></script>
<script src="/assets/js/main.a14c8bdb.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="OpenC3 Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="OpenC3 Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">OpenC3 Docs</b></a><a href="https://openc3.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Home</a><a href="https://openc3.com/enterprise/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Enterprise</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Documentation</a><a href="https://openc3.com/news/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">News</a><a href="https://openc3.com/contact/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Contact</a><a href="https://openc3.com/about/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">About</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/OpenC3/cosmos" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/getting-started">Getting Started</a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/configuration">Configuration</a><button aria-label="Collapse sidebar category &#x27;Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configuration/format">File Format</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/configuration/plugins">Plugins</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configuration/target">Targets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configuration/command">Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configuration/telemetry">Telemetry</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configuration/interfaces">Interfaces</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configuration/protocols">Protocols</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configuration/table">Tables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configuration/telemetry-screens">Screens</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configuration/ssl-tls">SSL-TLS</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/tools">Tools</a><button aria-label="Expand sidebar category &#x27;Tools&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/guides">Guides</a><button aria-label="Expand sidebar category &#x27;Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/development">Development</a><button aria-label="Expand sidebar category &#x27;Development&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/meta">Meta</a><button aria-label="Expand sidebar category &#x27;Meta&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/privacy">OpenC3, Inc. Privacy Policy</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/configuration"><span itemprop="name">Configuration</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Plugins</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Plugins</h1></header><h2 id="introduction">Introduction</h2>
<p>This document provides the information necessary to configure a COSMOS plugin. Plugins are how you configure and extend COSMOS.</p>
<p>Plugins are where you define targets (and their corresponding command and telemetry packet definitions), where you configure the interfaces needed to talk to targets, where you can define routers to stream raw data out of COSMOS, how you can add new tools to the COSMOS user interface, and how you can run additional microservices to provide new functionality.</p>
<p>Each plugin is built as a Ruby gem and thus has a plugin.gemspec file which builds it. Plugins have a plugin.txt file which declares all the variables used by the plugin and how to interface to the target(s) it contains.</p>
<h2 id="concepts">Concepts</h2>
<h3 id="target">Target</h3>
<p>Targets are the external pieces of hardware and/or software that COSMOS communicates with. These are things like Front End Processors (FEPs), ground support equipment (GSE), custom software tools, and pieces of hardware like satellites themselves. A target is anything that COSMOS can send commands to and receive telemetry from.</p>
<h3 id="interface">Interface</h3>
<p>Interfaces implement the physical connection to one or more targets. They are typically ethernet connections implemented using TCP or UDP but can be other connections like serial ports. Interfaces send commands to targets and receive telemetry from targets.</p>
<h3 id="router">Router</h3>
<p>Routers flow streams of telemetry packets out of COSMOS and receive streams of commands into COSMOS. The commands are forwarded by COSMOS to associated interfaces. Telemetry comes from associated interfaces.</p>
<h3 id="tool">Tool</h3>
<p>COSMOS Tools are web-based applications the communicate with the COSMOS APIs to perform takes like displaying telemetry, sending commands, and running scripts.</p>
<h3 id="microservice">Microservice</h3>
<p>Microservices are persistent running backend code that runs within the COSMOS environment. They can process data and perform other useful tasks.</p>
<h2 id="plugin-directory-structure">Plugin Directory Structure</h2>
<p>COSMOS plugins have a well-defined directory structure described in detail in the <a href="../getting-started/generators">Code Generator</a> documentation.</p>
<h2 id="plugintxt-configuration-file">plugin.txt Configuration File</h2>
<p>A plugin.txt configuration file is required for any COSMOS plugin. It declares the contents of the plugin and provides variables that allow the plugin to be configured at the time it is initially installed or upgraded.
This file follows the standard COSMOS configuration file format of keywords followed by zero or more space separated parameters. The following keywords are supported by the plugin.txt config file:</p>
<h2 id="variable">VARIABLE</h2>
<p><strong>Define a configurable variable for the plugin</strong></p>
<p>The VARIABLE keyword defines a variable that will be requested for the user to enter during plugin installation.   Variables can be used to handle details of targets that are user defined such as specific IP addresses and ports.  Variables should also be used to allow users to rename targets to whatever name they want and support multiple installations of the same target with different names. Variables can be used later in plugin.txt or in any other configuration file included in a plugin using Ruby ERB syntax.  The variables are assigned to accessible local variables in the file. At a high level, ERB allows you to run Ruby code in configuration files.</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Variable Name</td><td>The name of the variable</td><td>True</td></tr><tr><td>Default Value</td><td>Default value of the variable</td><td>True</td></tr></tbody></table>
<h2 id="needs_dependencies">NEEDS_DEPENDENCIES</h2>
<p></p><div class="right">(Since 5.5.0)</div><strong>Indicates the plugin needs dependencies and sets the GEM_HOME environment variable</strong><p></p>
<p>If the plugin has a top level lib folder or lists runtime dependencies in the gemspec, NEEDS_DEPENDENCIES is effectively already set. Note that in Enterprise Edition, having NEEDS_DEPENDENCIES adds the NFS volume mount to the Kuberentes pod.</p>
<h2 id="interface-1">INTERFACE</h2>
<p><strong>Defines a connection to a physical target</strong></p>
<p>Interfaces are what OpenC3 uses to talk to a particular piece of hardware. Interfaces require a Ruby file which implements all the interface methods necessary to talk to the hardware. OpenC3 defines many built in interfaces or you can define your own as long as it implements the interface protocol.</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Interface Name</td><td>Name of the interface. This name will appear in the Interfaces tab of the Server and is also referenced by other keywords. The OpenC3 convention is to name interfaces after their targets with &#x27;_INT&#x27; appended to the name, e.g. INST_INT for the INST target.</td><td>True</td></tr><tr><td>Filename</td><td>Ruby file to use when instantiating the interface.<br><br>Valid Values: <span class="values">tcpip_client_interface.rb, tcpip_server_interface.rb, udp_interface.rb, serial_interface.rb</span></td><td>True</td></tr></tbody></table>
<p>Additional parameters are required. Please see the <a href="/docs/configuration/interfaces">Interfaces</a> documentation for more details.</p>
<h2 id="interface-modifiers">INTERFACE Modifiers</h2>
<p>The following keywords must follow a INTERFACE keyword.</p>
<h3 id="map_target">MAP_TARGET</h3>
<p><strong>Maps a target name to an interface</strong></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Target Name</td><td>Target name to map to this interface</td><td>True</td></tr></tbody></table>
<p>Example Usage:</p>
<pre><code class="language-ruby">INTERFACE DATA_INT tcpip_client_interface.rb host.docker.internal 8080 8081 10.0 nil BURST
  MAP_TARGET DATA
</code></pre>
<h3 id="map_cmd_target">MAP_CMD_TARGET</h3>
<p></p><div class="right">(Since 5.2.0)</div><strong>Maps a target name to an interface for commands only</strong><p></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Target Name</td><td>Command target name to map to this interface</td><td>True</td></tr></tbody></table>
<p>Example Usage:</p>
<pre><code class="language-ruby">INTERFACE CMD_INT tcpip_client_interface.rb host.docker.internal 8080 8081 10.0 nil BURST
  MAP_CMD_TARGET DATA # Only DATA commands go on the CMD_INT interface
</code></pre>
<h3 id="map_tlm_target">MAP_TLM_TARGET</h3>
<p></p><div class="right">(Since 5.2.0)</div><strong>Maps a target name to an interface for telemetry only</strong><p></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Target Name</td><td>Telemetry target name to map to this interface</td><td>True</td></tr></tbody></table>
<p>Example Usage:</p>
<pre><code class="language-ruby">INTERFACE TLM_INT tcpip_client_interface.rb host.docker.internal 8080 8081 10.0 nil BURST
  MAP_TLM_TARGET DATA # Only DATA telemetry received on TLM_INT interface
</code></pre>
<h3 id="dont_connect">DONT_CONNECT</h3>
<p><strong>Server will not automatically try to connect to the interface at startup</strong></p>
<h3 id="dont_reconnect">DONT_RECONNECT</h3>
<p><strong>Server will not try to reconnect to the interface if the connection is lost</strong></p>
<h3 id="reconnect_delay">RECONNECT_DELAY</h3>
<p><strong>Reconnect delay in seconds</strong></p>
<p>If DONT_RECONNECT is not present the Server will try to reconnect to an interface if the connection is lost. Reconnect delay sets the interval in seconds between reconnect tries.</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Delay</td><td>Delay in seconds between reconnect attempts. The default is 15 seconds.</td><td>True</td></tr></tbody></table>
<h3 id="disable_disconnect">DISABLE_DISCONNECT</h3>
<p><strong>Disable the Disconnect button on the Interfaces tab in the Server</strong></p>
<p>Use this keyword to prevent the user from disconnecting from the interface. This is typically used in a &#x27;production&#x27; environment where you would not want the user to inadvertantly disconnect from a target.</p>
<h3 id="log_raw">LOG_RAW</h3>
<p><strong>Deprecated, use LOG_STREAM</strong></p>
<h3 id="log_stream">LOG_STREAM</h3>
<p></p><div class="right">(Since 5.5.2)</div><strong>Log all data on the interface exactly as it is sent and received</strong><p></p>
<p>LOG_STREAM does not add any OpenC3 headers and thus can not be read by OpenC3 tools. It is primarily useful for low level debugging of an interface. You will have to manually parse these logs yourself using a hex editor or other application.</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Cycle Time</td><td>Amount of time to wait before cycling the log file. Default is 10 min. If nil refer to Cycle Hour and Cycle Minute.</td><td>False</td></tr><tr><td>Cycle Size</td><td>Amount of data to write before cycling the log file. Default is 50MB.</td><td>False</td></tr><tr><td>Cycle Hour</td><td>The time at which to cycle the log. Combined with Cycle Minute to cycle the log daily at the specified time. If nil, the log will be cycled hourly at the specified Cycle Minute. Only applies if Cycle Time is nil.</td><td>False</td></tr><tr><td>Cycle Minute</td><td>See Cycle Hour.</td><td>False</td></tr></tbody></table>
<p>Example Usage:</p>
<pre><code class="language-ruby">INTERFACE EXAMPLE example_interface.rb
  # Override the default log time of 600
  LOG_STREAM 60
</code></pre>
<h3 id="protocol">PROTOCOL</h3>
<p></p><div class="right">(Since 4.0.0)</div><strong>Protocols modify the interface by processing the data</strong><p></p>
<p>Protocols can be either READ, WRITE, or READ_WRITE. READ protocols act on the data received by the interface while write acts on the data before it is sent out. READ_WRITE applies the protocol to both reading and writing.<br><br> For information on creating your own custom protocol please see <a href="/docs/configuration/protocols">Protocols</a></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Type</td><td>Whether to apply the protocol on incoming data, outgoing data, or both<br><br>Valid Values: <span class="values">READ, WRITE, READ_WRITE</span></td><td>True</td></tr><tr><td>Protocol Filename or Classname</td><td>Ruby filename or class name which implements the protocol</td><td>True</td></tr><tr><td>Protocol specific parameters</td><td>Additional parameters used by the protocol</td><td>False</td></tr></tbody></table>
<p>Example Usage:</p>
<pre><code class="language-ruby">INTERFACE DATA_INT tcpip_client_interface.rb host.docker.internal 8080 8081 10.0 nil nil
  MAP_TARGET DATA
  # Rather than defining the LENGTH protocol on the INTERFACE line we define it here
  PROTOCOL READ LengthProtocol 0 16 0 1 BIG_ENDIAN 4 0xBA5EBA11
INTERFACE DATA_INT tcpip_client_interface.rb host.docker.internal 8080 8081 10.0 nil BURST
  MAP_TARGET DATA
  PROTOCOL READ IgnorePacketProtocol INST IMAGE # Drop all INST IMAGE packets
</code></pre>
<h3 id="option">OPTION</h3>
<p><strong>Set a parameter on an interface</strong></p>
<p>When an option is set the interface class calls the set_option method. Custom interfaces can override set_option to handle any additional options they want.</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Name</td><td>The option to set. OpenC3 defines several options on the core provided interfaces. The SerialInterface defines FLOW_CONTROL which can be NONE (default) or RTSCTS and DATA_BITS which changes the data bits of the serial interface. The TcpipServerInterface and HttpServerInterface define LISTEN_ADDRESS which is the IP address to accept connections on (default 0.0.0.0).</td><td>True</td></tr><tr><td>Parameters</td><td>Parameters to pass to the option</td><td>False</td></tr></tbody></table>
<p>Example Usage:</p>
<pre><code class="language-ruby">INTERFACE SERIAL_INT serial_interface.rb COM1 COM1 115200 NONE 1 10.0 nil
  OPTION FLOW_CONTROL RTSCTS
  OPTION DATA_BITS 8
ROUTER SERIAL_ROUTER tcpip_server_interface.rb 2950 2950 10.0 nil BURST
  ROUTE SERIAL_INT
  OPTION LISTEN_ADDRESS 127.0.0.1
</code></pre>
<h3 id="secret">SECRET</h3>
<p></p><div class="right">(Since 5.3.0)</div><strong>Define a secret needed by this interface</strong><p></p>
<p>Defines a secret for this interface and optionally assigns its value to an option</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Type</td><td>ENV or FILE.  ENV will mount the secret into an environment variable. FILE mounts the secret into a file.</td><td>True</td></tr><tr><td>Secret Name</td><td>The name of the secret to retrieve</td><td>True</td></tr><tr><td>Environment Variable or File Path</td><td>Environment variable name or file path to store secret</td><td>True</td></tr><tr><td>Option Name</td><td>Interface option to pass the secret value</td><td>False</td></tr><tr><td>Secret Store Name</td><td>Name of the secret store for stores with multipart keys</td><td>False</td></tr></tbody></table>
<p>Example Usage:</p>
<pre><code class="language-ruby">SECRET ENV USERNAME ENV_USERNAME USERNAME
SECRET FILE KEY &quot;/tmp/DATA/cert&quot; KEY
</code></pre>
<h3 id="env">ENV</h3>
<p></p><div class="right">(Since 5.7.0)</div><strong>Sets an environment variable in the microservice.</strong><p></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Key</td><td>Environment variable name</td><td>True</td></tr><tr><td>Value</td><td>Environment variable value</td><td>True</td></tr></tbody></table>
<p>Example Usage:</p>
<pre><code class="language-ruby">ENV COMPANY OpenC3
</code></pre>
<h3 id="work_dir">WORK_DIR</h3>
<p></p><div class="right">(Since 5.7.0)</div><strong>Set the working directory</strong><p></p>
<p>Working directory to run the microservice CMD in.  Can be a path relative to the microservice folder in the plugin, or an absolute path in the container the microservice runs in.</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Directory</td><td>Working directory to run the microservice CMD in. Can be a path relative to the microservice folder in the plugin, or an absolute path in the container the microservice runs in.</td><td>True</td></tr></tbody></table>
<p>Example Usage:</p>
<pre><code class="language-ruby">WORK_DIR &#x27;/openc3/lib/openc3/microservices&#x27;
</code></pre>
<h3 id="port">PORT</h3>
<p></p><div class="right">(Since 5.7.0)</div><strong>Open port for the microservice</strong><p></p>
<p>Kubernetes needs a Service to be applied to open a port so this is required for Kubernetes support</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Number</td><td>Port number</td><td>True</td></tr><tr><td>Protocol</td><td>Port protocol. Default is TCP.</td><td>False</td></tr></tbody></table>
<p>Example Usage:</p>
<pre><code class="language-ruby">PORT 7272
</code></pre>
<h3 id="cmd">CMD</h3>
<p></p><div class="right">(Since 5.7.0)</div><strong>Command line to execute to run the microservice.</strong><p></p>
<p>Command line to execute to run the microservice.</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Args</td><td>One or more arguments to exec to run the microservice.</td><td>True</td></tr></tbody></table>
<p>Example Usage:</p>
<pre><code class="language-ruby">CMD ruby interface_microservice.rb DEFAULT__INTERFACE__INT1
</code></pre>
<h3 id="container">CONTAINER</h3>
<p></p><div class="right">(Since 5.7.0)</div><strong>Docker Container</strong><p></p>
<p>Container to execute and run the microservice in. Only used in COSMOS Enterprise Edition.</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Args</td><td>Name of the container</td><td>False</td></tr></tbody></table>
<h3 id="route_prefix">ROUTE_PREFIX</h3>
<p></p><div class="right">(Since 5.7.0)</div><strong>Prefix of route</strong><p></p>
<p>Prefix of route to the microservice to expose externally with Traefik</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Route Prefix</td><td>Route prefix. Must be unique across all scopes. Something like /myprefix</td><td>True</td></tr></tbody></table>
<p>Example Usage:</p>
<pre><code class="language-ruby">ROUTE_PREFIX /interface
</code></pre>
<h2 id="router-1">ROUTER</h2>
<p><strong>Create router to receive commands and output telemetry packets from one or more interfaces</strong></p>
<p>Creates an router which receives command packets from their remote clients and sends them to associated interfaces. They receive telemetry packets from their interfaces and send them to their remote clients. This allows routers to be intermediaries between an external client and an actual device.</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Name</td><td>Name of the router</td><td>True</td></tr><tr><td>Filename</td><td>Ruby file to use when instantiating the interface.<br><br>Valid Values: <span class="values">tcpip_client_interface.rb, tcpip_server_interface.rb, udp_interface.rb, serial_interface.rb</span></td><td>True</td></tr></tbody></table>
<p>Additional parameters are required. Please see the <a href="/docs/configuration/interfaces">Interfaces</a> documentation for more details.</p>
<h2 id="target-1">TARGET</h2>
<p><strong>Defines a new target</strong></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Folder Name</td><td>The target folder</td><td>True</td></tr><tr><td>Name</td><td>The target name. While this is almost always the same as Folder Name it can be different to create multiple targets based on the same target folder.</td><td>True</td></tr></tbody></table>
<p>Example Usage:</p>
<pre><code class="language-ruby">TARGET INST INST
</code></pre>
<h2 id="target-modifiers">TARGET Modifiers</h2>
<p>The following keywords must follow a TARGET keyword.</p>
<h3 id="cmd_buffer_depth">CMD_BUFFER_DEPTH</h3>
<p></p><div class="right">(Since 5.2.0)</div><strong>Number of commands to buffer to ensure logged in order</strong><p></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Buffer Depth</td><td>Buffer depth in packets (Default = 5)</td><td>True</td></tr></tbody></table>
<h3 id="cmd_log_cycle_time">CMD_LOG_CYCLE_TIME</h3>
<p><strong>Command binary logs can be cycled on a time interval.</strong></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Time</td><td>Maximum time between files in seconds (default = 600)</td><td>True</td></tr></tbody></table>
<h3 id="cmd_log_cycle_size">CMD_LOG_CYCLE_SIZE</h3>
<p><strong>Command binary logs can be cycled after a certain log file size is reached.</strong></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Size</td><td>Maximum file size in bytes (default = 50_000_000)</td><td>True</td></tr></tbody></table>
<h3 id="cmd_log_retain_time">CMD_LOG_RETAIN_TIME</h3>
<p><strong>How long to keep raw command logs in seconds.</strong></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Time</td><td>Number of seconds to keep raw command logs (default = nil = Forever)</td><td>True</td></tr></tbody></table>
<h3 id="cmd_decom_log_cycle_time">CMD_DECOM_LOG_CYCLE_TIME</h3>
<p><strong>Command decommutation logs can be cycled on a time interval.</strong></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Time</td><td>Maximum time between files in seconds (default = 600)</td><td>True</td></tr></tbody></table>
<h3 id="cmd_decom_log_cycle_size">CMD_DECOM_LOG_CYCLE_SIZE</h3>
<p><strong>Command decommutation logs can be cycled after a certain log file size is reached.</strong></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Size</td><td>Maximum file size in bytes (default = 50_000_000)</td><td>True</td></tr></tbody></table>
<h3 id="cmd_decom_log_retain_time">CMD_DECOM_LOG_RETAIN_TIME</h3>
<p><strong>How long to keep decom command logs in seconds.</strong></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Time</td><td>Number of seconds to keep decom command logs (default = nil = Forever)</td><td>True</td></tr></tbody></table>
<h3 id="tlm_buffer_depth">TLM_BUFFER_DEPTH</h3>
<p></p><div class="right">(Since 5.2.0)</div><strong>Number of telemetry packets to buffer to ensure logged in order</strong><p></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Buffer Depth</td><td>Buffer depth in packets (Default = 60)</td><td>True</td></tr></tbody></table>
<h3 id="tlm_log_cycle_time">TLM_LOG_CYCLE_TIME</h3>
<p><strong>Telemetry binary logs can be cycled on a time interval.</strong></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Time</td><td>Maximum time between files in seconds (default = 600)</td><td>True</td></tr></tbody></table>
<h3 id="tlm_log_cycle_size">TLM_LOG_CYCLE_SIZE</h3>
<p><strong>Telemetry binary logs can be cycled after a certain log file size is reached.</strong></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Size</td><td>Maximum file size in bytes (default = 50_000_000)</td><td>True</td></tr></tbody></table>
<h3 id="tlm_log_retain_time">TLM_LOG_RETAIN_TIME</h3>
<p><strong>How long to keep raw telemetry logs in seconds.</strong></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Time</td><td>Number of seconds to keep raw telemetry logs (default = nil = Forever)</td><td>True</td></tr></tbody></table>
<h3 id="tlm_decom_log_cycle_time">TLM_DECOM_LOG_CYCLE_TIME</h3>
<p><strong>Telemetry decommutation logs can be cycled on a time interval.</strong></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Time</td><td>Maximum time between files in seconds (default = 600)</td><td>True</td></tr></tbody></table>
<h3 id="tlm_decom_log_cycle_size">TLM_DECOM_LOG_CYCLE_SIZE</h3>
<p><strong>Telemetry decommutation logs can be cycled after a certain log file size is reached.</strong></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Size</td><td>Maximum file size in bytes (default = 50_000_000)</td><td>True</td></tr></tbody></table>
<h3 id="tlm_decom_log_retain_time">TLM_DECOM_LOG_RETAIN_TIME</h3>
<p><strong>How long to keep decom telemetry logs in seconds.</strong></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Time</td><td>Number of seconds to keep decom telemetry logs (default = nil = Forever)</td><td>True</td></tr></tbody></table>
<h3 id="reduced_minute_log_retain_time">REDUCED_MINUTE_LOG_RETAIN_TIME</h3>
<p><strong>How long to keep reduced minute telemetry logs in seconds.</strong></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Time</td><td>Number of seconds to keep reduced minute telemetry logs (default = nil = Forever)</td><td>True</td></tr></tbody></table>
<h3 id="reduced_hour_log_retain_time">REDUCED_HOUR_LOG_RETAIN_TIME</h3>
<p><strong>How long to keep reduced hour telemetry logs in seconds.</strong></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Time</td><td>Number of seconds to keep reduced hour telemetry logs (default = nil = Forever)</td><td>True</td></tr></tbody></table>
<h3 id="reduced_day_log_retain_time">REDUCED_DAY_LOG_RETAIN_TIME</h3>
<p><strong>How long to keep reduced day telemetry logs in seconds.</strong></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Time</td><td>Number of seconds to keep reduced day telemetry logs (default = nil = Forever)</td><td>True</td></tr></tbody></table>
<h3 id="log_retain_time">LOG_RETAIN_TIME</h3>
<p><strong>How long to keep all regular telemetry logs in seconds.</strong></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Time</td><td>Number of seconds to keep all regular telemetry logs (default = nil = Forever)</td><td>True</td></tr></tbody></table>
<h3 id="reduced_log_retain_time">REDUCED_LOG_RETAIN_TIME</h3>
<p><strong>How long to keep all reduced telemetry logs in seconds.</strong></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Time</td><td>Number of seconds to keep all reduced telemetry logs (default = nil = Forever)</td><td>True</td></tr></tbody></table>
<h3 id="cleanup_poll_time">CLEANUP_POLL_TIME</h3>
<p><strong>Period at which to run the cleanup process.</strong></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Time</td><td>Number of seconds between runs of the cleanup process (default = 900 = 15 minutes)</td><td>True</td></tr></tbody></table>
<h3 id="reducer_disable">REDUCER_DISABLE</h3>
<p><strong>Disables the data reduction microservice for the target</strong></p>
<h3 id="reducer_max_cpu_utilization">REDUCER_MAX_CPU_UTILIZATION</h3>
<p><strong>Maximum amount of CPU utilization to apply to data reduction</strong></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Percentage</td><td>0 to 100 percent (default = 30)</td><td>True</td></tr></tbody></table>
<h3 id="target_microservice">TARGET_MICROSERVICE</h3>
<p></p><div class="right">(Since 5.2.0)</div><strong>Breaks a target microservice out into its own process.</strong><p></p>
<p>Can be used to give more resources to processing that is falling behind. If defined multiple times for the same type, will create multiple processes. Each process can be given specific packets to process with the PACKET keyword.</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Type</td><td>The target microservice type. Must be one of DECOM, COMMANDLOG, DECOMCMDLOG, PACKETLOG, DECOMLOG, REDUCER, or CLEANUP</td><td>True</td></tr></tbody></table>
<h3 id="packet">PACKET</h3>
<p></p><div class="right">(Since 5.2.0)</div><strong>Packet Name to allocate to the current TARGET_MICROSERVICE.</strong><p></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Packet Name</td><td>The packet name. Does not apply to REDUCER or CLEANUP target microservice types.</td><td>True</td></tr></tbody></table>
<h3 id="disable_erb">DISABLE_ERB</h3>
<p></p><div class="right">(Since 5.12.0)</div><strong>Disable ERB processing</strong><p></p>
<p>Disable ERB processing for the entire target or a set of regular expressions over its filenames</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Regex</td><td>Regex to match against filenames. If match, then no ERB processing</td><td>False</td></tr></tbody></table>
<h2 id="microservice-1">MICROSERVICE</h2>
<p><strong>Defines a new microservice</strong></p>
<p>Defines a microservice that the plugin adds to the OpenC3 system. Microservices are background software processes that perform persistent processing.</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Microservice Folder Name</td><td>The exact name of the microservice folder in the plugin. ie. microservices/MicroserviceFolderName</td><td>True</td></tr><tr><td>Microservice Name</td><td>The specific name of this instance of the microservice in the OpenC3 system</td><td>True</td></tr></tbody></table>
<p>Example Usage:</p>
<pre><code class="language-ruby">MICROSERVICE EXAMPLE openc3-example
</code></pre>
<h2 id="microservice-modifiers">MICROSERVICE Modifiers</h2>
<p>The following keywords must follow a MICROSERVICE keyword.</p>
<h3 id="env-1">ENV</h3>
<p><strong>Sets an environment variable in the microservice.</strong></p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Key</td><td>Environment variable name</td><td>True</td></tr><tr><td>Value</td><td>Environment variable value</td><td>True</td></tr></tbody></table>
<p>Example Usage:</p>
<pre><code class="language-ruby">MICROSERVICE EXAMPLE openc3-example
  ENV COMPANY OpenC3
</code></pre>
<h3 id="work_dir-1">WORK_DIR</h3>
<p><strong>Set the working directory</strong></p>
<p>Working directory to run the microservice CMD in.  Can be a path relative to the microservice folder in the plugin, or an absolute path in the container the microservice runs in.</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Directory</td><td>Working directory to run the microservice CMD in. Can be a path relative to the microservice folder in the plugin, or an absolute path in the container the microservice runs in.</td><td>True</td></tr></tbody></table>
<p>Example Usage:</p>
<pre><code class="language-ruby">MICROSERVICE EXAMPLE openc3-example
  WORK_DIR .
</code></pre>
<h3 id="port-1">PORT</h3>
<p></p><div class="right">(Since 5.0.10)</div><strong>Open port for the microservice</strong><p></p>
<p>Kubernetes needs a Service to be applied to open a port so this is required for Kubernetes support</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Number</td><td>Port number</td><td>True</td></tr><tr><td>Protocol</td><td>Port protocol. Default is TCP.</td><td>False</td></tr></tbody></table>
<p>Example Usage:</p>
<pre><code class="language-ruby">MICROSERVICE EXAMPLE openc3-example
  PORT 7272
</code></pre>
<h3 id="topic">TOPIC</h3>
<p><strong>Associate a Redis topic</strong></p>
<p>Redis topic to associate with this microservice. Standard OpenC3 microservices such as decom_microservice use this information to know what packet streams to subscribe to. The TOPIC keyword can be used as many times as necessary to associate all needed topics.</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Topic Name</td><td>Redis Topic to associate with the microservice</td><td>True</td></tr></tbody></table>
<p>Example Usage:</p>
<pre><code class="language-ruby">MICROSERVICE EXAMPLE openc3-example
  # Manually assigning topics is an advanced topic and requires
  # intimate knowledge of the internal COSMOS data structures.
  TOPIC DEFAULT__openc3_log_messages
  TOPIC DEFAULT__TELEMETRY__EXAMPLE__STATUS
</code></pre>
<h3 id="target_name">TARGET_NAME</h3>
<p><strong>Associate a OpenC3 target</strong></p>
<p>OpenC3 target to associate with the microservice. For standard OpenC3 microservices such as decom_microservice this causes the target configuration to get loaded into the container for the microservice.</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Target Name</td><td>OpenC3 target to associate with the microservice</td><td>True</td></tr></tbody></table>
<p>Example Usage:</p>
<pre><code class="language-ruby">MICROSERVICE EXAMPLE openc3-example
  TARGET_NAME EXAMPLE
</code></pre>
<h3 id="cmd-1">CMD</h3>
<p><strong>Command line to execute to run the microservice.</strong></p>
<p>Command line to execute to run the microservice.</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Args</td><td>One or more arguments to exec to run the microservice.</td><td>True</td></tr></tbody></table>
<p>Example Usage:</p>
<pre><code class="language-ruby">MICROSERVICE EXAMPLE openc3-example
  CMD ruby example_target.rb
</code></pre>
<h3 id="option-1">OPTION</h3>
<p><strong>Pass an option to the microservice</strong></p>
<p>Generic key/value(s) options to pass to the microservice. These take the form of KEYWORD/PARAMS like a line in a OpenC3 configuration file. Multiple OPTION keywords can be used to pass multiple options to the microservice.</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Option Name</td><td>Name of the option</td><td>True</td></tr><tr><td>Option Value(s)</td><td>One or more values to associate with the option</td><td>True</td></tr></tbody></table>
<h3 id="container-1">CONTAINER</h3>
<p><strong>Docker Container</strong></p>
<p>Container to execute and run the microservice in. Only used in COSMOS Enterprise Edition.</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Args</td><td>Name of the container</td><td>False</td></tr></tbody></table>
<h3 id="secret-1">SECRET</h3>
<p></p><div class="right">(Since 5.3.0)</div><strong>Define a secret needed by this microservice</strong><p></p>
<p>Defines a secret for this microservice</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Type</td><td>ENV or FILE.  ENV will mount the secret into an environment variable. FILE mounts the secret into a file.</td><td>True</td></tr><tr><td>Secret Name</td><td>The name of the secret to retrieve</td><td>True</td></tr><tr><td>Environment Variable or File Path</td><td>Environment variable name or file path to store secret</td><td>True</td></tr><tr><td>Secret Store Name</td><td>Name of the secret store for stores with multipart keys</td><td>False</td></tr></tbody></table>
<p>Example Usage:</p>
<pre><code class="language-ruby">SECRET ENV USERNAME ENV_USERNAME
SECRET FILE KEY &quot;/tmp/DATA/cert&quot;
</code></pre>
<h3 id="route_prefix-1">ROUTE_PREFIX</h3>
<p></p><div class="right">(Since 5.5.0)</div><strong>Prefix of route</strong><p></p>
<p>Prefix of route to the microservice to expose externally with Traefik</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Route Prefix</td><td>Route prefix. Must be unique across all scopes. Something like /myprefix</td><td>True</td></tr></tbody></table>
<p>Example Usage:</p>
<pre><code class="language-ruby">MICROSERVICE CFDP CFDP
  ROUTE_PREFIX /cfdp
</code></pre>
<h3 id="disable_erb-1">DISABLE_ERB</h3>
<p></p><div class="right">(Since 5.12.0)</div><strong>Disable ERB processing</strong><p></p>
<p>Disable ERB processing for the entire microservice or a set of regular expressions over its filenames</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Regex</td><td>Regex to match against filenames. If match, then no ERB processing</td><td>False</td></tr></tbody></table>
<h2 id="tool-1">TOOL</h2>
<p><strong>Define a tool</strong></p>
<p>Defines a tool that the plugin adds to the OpenC3 system. Tools are web based applications that make use of the Single-SPA javascript library that allows them to by dynamically added to the running system as independent frontend microservices.</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Tool Folder Name</td><td>The exact name of the tool folder in the plugin. ie. tools/ToolFolderName</td><td>True</td></tr><tr><td>Tool Name</td><td>Name of the tool that is displayed in the OpenC3 Navigation menu</td><td>True</td></tr></tbody></table>
<p>Example Usage:</p>
<pre><code class="language-ruby">TOOL DEMO Demo
</code></pre>
<h2 id="tool-modifiers">TOOL Modifiers</h2>
<p>The following keywords must follow a TOOL keyword.</p>
<h3 id="url">URL</h3>
<p><strong>Url used to access the tool</strong></p>
<p>The relative url used to access the tool. Defaults to &quot;/tools/ToolFolderName&quot;.</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Url</td><td>The url. If not given defaults to tools/ToolFolderName. Generally should not be given unless linking to external tools.</td><td>True</td></tr></tbody></table>
<h3 id="inline_url">INLINE_URL</h3>
<p><strong>Internal url to load a tool</strong></p>
<p>The url of the javascript file used to load the tool into single-SPA. Defaults to &quot;js/app.js&quot;.</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Url</td><td>The inline url. If not given defaults to js/app.js. Generally should not be given unless using a non-standard filename.</td><td>True</td></tr></tbody></table>
<h3 id="window">WINDOW</h3>
<p><strong>How to display the tool when navigated to</strong></p>
<p>The window mode used to display the tool. INLINE opens the tool internally without refreshing the page using the Single-SPA framework. IFRAME opens external tools in an Iframe within OpenC3. NEW opens the tool in a new TAB.</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Window Mode</td><td>Tool display mode<br><br>Valid Values: <span class="values">INLINE, IFRAME, NEW</span></td><td>True</td></tr></tbody></table>
<h3 id="icon">ICON</h3>
<p><strong>Set tool icon</strong></p>
<p>Icon shown next to the tool name in the OpenC3 navigation menu.</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Icon Name</td><td>Icon to display next to the tool name. Icons come from Font Awesome, Material Design (<a href="https://materialdesignicons.com/">https://materialdesignicons.com/</a>), and Astro.</td><td>True</td></tr></tbody></table>
<h3 id="category">CATEGORY</h3>
<p><strong>Category for the tool</strong></p>
<p>Associates the tool with a category which becomes a submenu in the Navigation menu.</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Category Name</td><td>Category to associate the tool with</td><td>True</td></tr></tbody></table>
<h3 id="shown">SHOWN</h3>
<p><strong>Show the tool or not</strong></p>
<p>Whether or not the tool is shown in the Navigation menu. Should generally be true, except for the openc3 base tool.</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Shown</td><td>Whether or not the tool is shown.  TRUE or FALSE<br><br>Valid Values: <span class="values">true, false</span></td><td>True</td></tr></tbody></table>
<h3 id="position">POSITION</h3>
<p></p><div class="right">(Since 5.0.8)</div><strong>Position of the tool in the nav bar</strong><p></p>
<p>Position of the tool as an integer starting at 1. Tools without a position are appended to the end as they are installed.</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Position</td><td>Numerical position</td><td>True</td></tr></tbody></table>
<h3 id="disable_erb-2">DISABLE_ERB</h3>
<p></p><div class="right">(Since 5.12.0)</div><strong>Disable ERB processing</strong><p></p>
<p>Disable ERB processing for the entire tool or a set of regular expressions over its filenames</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Regex</td><td>Regex to match against filenames. If match, then no ERB processing</td><td>False</td></tr></tbody></table>
<h2 id="widget">WIDGET</h2>
<p><strong>Define a custom widget</strong></p>
<p>Defines a custom widget that can be used in Telemetry Viewer screens.</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Widget Name</td><td>The name of the widget wil be used to build a path to the widget implementation. For example, <code>WIDGET HELLOWORLD</code> will find the as-built file tools/widgets/HelloworldWidget/HelloworldWidget.umd.min.js. See the <a href="/docs/guides/custom-widgets">Custom Widgets</a> guide for more details.</td><td>True</td></tr></tbody></table>
<p>Example Usage:</p>
<pre><code class="language-ruby">WIDGET HELLOWORLD
</code></pre>
<h2 id="widget-modifiers">WIDGET Modifiers</h2>
<p>The following keywords must follow a WIDGET keyword.</p>
<h3 id="disable_erb-3">DISABLE_ERB</h3>
<p></p><div class="right">(Since 5.12.0)</div><strong>Disable ERB processing</strong><p></p>
<p>Disable ERB processing for the entire widget or a set of regular expressions over its filenames</p>
<table><thead><tr><th>Parameter</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>Regex</td><td>Regex to match against filenames. If match, then no ERB processing</td><td>False</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/OpenC3/cosmos/tree/main/docs.openc3.com/docs/configuration/plugins.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/configuration/format"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">File Format</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/configuration/target"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Targets</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#concepts" class="table-of-contents__link toc-highlight">Concepts</a><ul><li><a href="#target" class="table-of-contents__link toc-highlight">Target</a></li><li><a href="#interface" class="table-of-contents__link toc-highlight">Interface</a></li><li><a href="#router" class="table-of-contents__link toc-highlight">Router</a></li><li><a href="#tool" class="table-of-contents__link toc-highlight">Tool</a></li><li><a href="#microservice" class="table-of-contents__link toc-highlight">Microservice</a></li></ul></li><li><a href="#plugin-directory-structure" class="table-of-contents__link toc-highlight">Plugin Directory Structure</a></li><li><a href="#plugintxt-configuration-file" class="table-of-contents__link toc-highlight">plugin.txt Configuration File</a></li><li><a href="#variable" class="table-of-contents__link toc-highlight">VARIABLE</a></li><li><a href="#needs_dependencies" class="table-of-contents__link toc-highlight">NEEDS_DEPENDENCIES</a></li><li><a href="#interface-1" class="table-of-contents__link toc-highlight">INTERFACE</a></li><li><a href="#interface-modifiers" class="table-of-contents__link toc-highlight">INTERFACE Modifiers</a><ul><li><a href="#map_target" class="table-of-contents__link toc-highlight">MAP_TARGET</a></li><li><a href="#map_cmd_target" class="table-of-contents__link toc-highlight">MAP_CMD_TARGET</a></li><li><a href="#map_tlm_target" class="table-of-contents__link toc-highlight">MAP_TLM_TARGET</a></li><li><a href="#dont_connect" class="table-of-contents__link toc-highlight">DONT_CONNECT</a></li><li><a href="#dont_reconnect" class="table-of-contents__link toc-highlight">DONT_RECONNECT</a></li><li><a href="#reconnect_delay" class="table-of-contents__link toc-highlight">RECONNECT_DELAY</a></li><li><a href="#disable_disconnect" class="table-of-contents__link toc-highlight">DISABLE_DISCONNECT</a></li><li><a href="#log_raw" class="table-of-contents__link toc-highlight">LOG_RAW</a></li><li><a href="#log_stream" class="table-of-contents__link toc-highlight">LOG_STREAM</a></li><li><a href="#protocol" class="table-of-contents__link toc-highlight">PROTOCOL</a></li><li><a href="#option" class="table-of-contents__link toc-highlight">OPTION</a></li><li><a href="#secret" class="table-of-contents__link toc-highlight">SECRET</a></li><li><a href="#env" class="table-of-contents__link toc-highlight">ENV</a></li><li><a href="#work_dir" class="table-of-contents__link toc-highlight">WORK_DIR</a></li><li><a href="#port" class="table-of-contents__link toc-highlight">PORT</a></li><li><a href="#cmd" class="table-of-contents__link toc-highlight">CMD</a></li><li><a href="#container" class="table-of-contents__link toc-highlight">CONTAINER</a></li><li><a href="#route_prefix" class="table-of-contents__link toc-highlight">ROUTE_PREFIX</a></li></ul></li><li><a href="#router-1" class="table-of-contents__link toc-highlight">ROUTER</a></li><li><a href="#target-1" class="table-of-contents__link toc-highlight">TARGET</a></li><li><a href="#target-modifiers" class="table-of-contents__link toc-highlight">TARGET Modifiers</a><ul><li><a href="#cmd_buffer_depth" class="table-of-contents__link toc-highlight">CMD_BUFFER_DEPTH</a></li><li><a href="#cmd_log_cycle_time" class="table-of-contents__link toc-highlight">CMD_LOG_CYCLE_TIME</a></li><li><a href="#cmd_log_cycle_size" class="table-of-contents__link toc-highlight">CMD_LOG_CYCLE_SIZE</a></li><li><a href="#cmd_log_retain_time" class="table-of-contents__link toc-highlight">CMD_LOG_RETAIN_TIME</a></li><li><a href="#cmd_decom_log_cycle_time" class="table-of-contents__link toc-highlight">CMD_DECOM_LOG_CYCLE_TIME</a></li><li><a href="#cmd_decom_log_cycle_size" class="table-of-contents__link toc-highlight">CMD_DECOM_LOG_CYCLE_SIZE</a></li><li><a href="#cmd_decom_log_retain_time" class="table-of-contents__link toc-highlight">CMD_DECOM_LOG_RETAIN_TIME</a></li><li><a href="#tlm_buffer_depth" class="table-of-contents__link toc-highlight">TLM_BUFFER_DEPTH</a></li><li><a href="#tlm_log_cycle_time" class="table-of-contents__link toc-highlight">TLM_LOG_CYCLE_TIME</a></li><li><a href="#tlm_log_cycle_size" class="table-of-contents__link toc-highlight">TLM_LOG_CYCLE_SIZE</a></li><li><a href="#tlm_log_retain_time" class="table-of-contents__link toc-highlight">TLM_LOG_RETAIN_TIME</a></li><li><a href="#tlm_decom_log_cycle_time" class="table-of-contents__link toc-highlight">TLM_DECOM_LOG_CYCLE_TIME</a></li><li><a href="#tlm_decom_log_cycle_size" class="table-of-contents__link toc-highlight">TLM_DECOM_LOG_CYCLE_SIZE</a></li><li><a href="#tlm_decom_log_retain_time" class="table-of-contents__link toc-highlight">TLM_DECOM_LOG_RETAIN_TIME</a></li><li><a href="#reduced_minute_log_retain_time" class="table-of-contents__link toc-highlight">REDUCED_MINUTE_LOG_RETAIN_TIME</a></li><li><a href="#reduced_hour_log_retain_time" class="table-of-contents__link toc-highlight">REDUCED_HOUR_LOG_RETAIN_TIME</a></li><li><a href="#reduced_day_log_retain_time" class="table-of-contents__link toc-highlight">REDUCED_DAY_LOG_RETAIN_TIME</a></li><li><a href="#log_retain_time" class="table-of-contents__link toc-highlight">LOG_RETAIN_TIME</a></li><li><a href="#reduced_log_retain_time" class="table-of-contents__link toc-highlight">REDUCED_LOG_RETAIN_TIME</a></li><li><a href="#cleanup_poll_time" class="table-of-contents__link toc-highlight">CLEANUP_POLL_TIME</a></li><li><a href="#reducer_disable" class="table-of-contents__link toc-highlight">REDUCER_DISABLE</a></li><li><a href="#reducer_max_cpu_utilization" class="table-of-contents__link toc-highlight">REDUCER_MAX_CPU_UTILIZATION</a></li><li><a href="#target_microservice" class="table-of-contents__link toc-highlight">TARGET_MICROSERVICE</a></li><li><a href="#packet" class="table-of-contents__link toc-highlight">PACKET</a></li><li><a href="#disable_erb" class="table-of-contents__link toc-highlight">DISABLE_ERB</a></li></ul></li><li><a href="#microservice-1" class="table-of-contents__link toc-highlight">MICROSERVICE</a></li><li><a href="#microservice-modifiers" class="table-of-contents__link toc-highlight">MICROSERVICE Modifiers</a><ul><li><a href="#env-1" class="table-of-contents__link toc-highlight">ENV</a></li><li><a href="#work_dir-1" class="table-of-contents__link toc-highlight">WORK_DIR</a></li><li><a href="#port-1" class="table-of-contents__link toc-highlight">PORT</a></li><li><a href="#topic" class="table-of-contents__link toc-highlight">TOPIC</a></li><li><a href="#target_name" class="table-of-contents__link toc-highlight">TARGET_NAME</a></li><li><a href="#cmd-1" class="table-of-contents__link toc-highlight">CMD</a></li><li><a href="#option-1" class="table-of-contents__link toc-highlight">OPTION</a></li><li><a href="#container-1" class="table-of-contents__link toc-highlight">CONTAINER</a></li><li><a href="#secret-1" class="table-of-contents__link toc-highlight">SECRET</a></li><li><a href="#route_prefix-1" class="table-of-contents__link toc-highlight">ROUTE_PREFIX</a></li><li><a href="#disable_erb-1" class="table-of-contents__link toc-highlight">DISABLE_ERB</a></li></ul></li><li><a href="#tool-1" class="table-of-contents__link toc-highlight">TOOL</a></li><li><a href="#tool-modifiers" class="table-of-contents__link toc-highlight">TOOL Modifiers</a><ul><li><a href="#url" class="table-of-contents__link toc-highlight">URL</a></li><li><a href="#inline_url" class="table-of-contents__link toc-highlight">INLINE_URL</a></li><li><a href="#window" class="table-of-contents__link toc-highlight">WINDOW</a></li><li><a href="#icon" class="table-of-contents__link toc-highlight">ICON</a></li><li><a href="#category" class="table-of-contents__link toc-highlight">CATEGORY</a></li><li><a href="#shown" class="table-of-contents__link toc-highlight">SHOWN</a></li><li><a href="#position" class="table-of-contents__link toc-highlight">POSITION</a></li><li><a href="#disable_erb-2" class="table-of-contents__link toc-highlight">DISABLE_ERB</a></li></ul></li><li><a href="#widget" class="table-of-contents__link toc-highlight">WIDGET</a></li><li><a href="#widget-modifiers" class="table-of-contents__link toc-highlight">WIDGET Modifiers</a><ul><li><a href="#disable_erb-3" class="table-of-contents__link toc-highlight">DISABLE_ERB</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Homepage</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://openc3.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Home</a></li></ul></div><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/company/openc3" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/OpenC3/cosmos" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/privacy">Privacy</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright  2024 OpenC3, Inc.</div></div></div></footer></div>
</body>
</html>