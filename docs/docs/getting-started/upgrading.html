<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-getting-started/upgrading" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.1"><title data-rh=true>Upgrading | OpenC3 Docs</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:url content=https://docs.openc3.com/docs/getting-started/upgrading /><meta data-rh=true property=og:locale content=en /><meta data-rh=true name=docusaurus_locale content=en /><meta data-rh=true name=docsearch:language content=en /><meta data-rh=true name=docusaurus_version content=current /><meta data-rh=true name=docusaurus_tag content=docs-default-current /><meta data-rh=true name=docsearch:version content=current /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current /><meta data-rh=true property=og:title content="Upgrading | OpenC3 Docs"/><meta data-rh=true name=description content="How to upgrade and migrate COSMOS"/><meta data-rh=true property=og:description content="How to upgrade and migrate COSMOS"/><link data-rh=true rel=icon href=/img/favicon.png /><link data-rh=true rel=canonical href=https://docs.openc3.com/docs/getting-started/upgrading /><link data-rh=true rel=alternate href=https://docs.openc3.com/docs/getting-started/upgrading hreflang=en /><link data-rh=true rel=alternate href=https://docs.openc3.com/docs/getting-started/upgrading hreflang=x-default /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://docs.openc3.com/docs/getting-started","name":"Getting Started","position":1},{"@type":"ListItem","item":"https://docs.openc3.com/docs/getting-started/upgrading","name":"Upgrading","position":2}]}</script><link rel=stylesheet href=/assets/css/styles.946be27d.css /><script src=/assets/js/runtime~main.c5194355.js defer></script><script src=/assets/js/main.f15d68d8.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"dark"),document.documentElement.setAttribute("data-theme-choice",t||"dark")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/img/logo.svg /><div role=region aria-label="Skip to main content"><a class=skipToContent_TKVD href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/logo.svg alt="OpenC3 Logo" class="themedComponent_hQOn themedComponent--light_cpFH"/><img src=/img/logo.svg alt="OpenC3 Logo" class="themedComponent_hQOn themedComponent--dark_whA_"/></div><b class="navbar__title text--truncate">OpenC3 Docs</b></a><a href=https://openc3.com target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Home</a><a href=https://openc3.com/enterprise/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Enterprise</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/docs>Documentation</a><a href=https://openc3.com/news/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">News</a><a href=https://openc3.com/contact/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Contact</a><a href=https://openc3.com/about/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">About</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href=https://github.com/OpenC3/cosmos target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="toggle_uYZL colorModeToggle_bPuK"><button class="clean-btn toggleButton_Wj62 toggleButtonDisabled_A6HD" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_YNHb lightToggleIcon_hIbN"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_YNHb darkToggleIcon_IQyx"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_YNHb systemToggleIcon_x9QH"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_YWZZ><div class=navbar__search><span aria-label="expand searchbar" role=button class=search-icon tabindex=0></span><input id=search_input_react type=search placeholder=Loading... aria-label=Search class="navbar__search-input search-bar" disabled/></div></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_E2as"><div class=docsWrapper_helv><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_C8jb" type=button></button><div class=docRoot_qfDj><aside class="theme-doc-sidebar-container docSidebarContainer_akt7"><div class=sidebarViewport__oqk><div class=sidebar_mbPS><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_cdbq"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs><span title=Introduction class=linkLabel_THKR>Introduction</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_m86C menu__link menu__link--sublist menu__link--active" href=/docs/getting-started><span title="Getting Started" class=categoryLinkLabel_gwYM>Getting Started</span></a><button aria-label="Collapse sidebar category 'Getting Started'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/getting-started/key-concepts><span title="Key Concepts" class=linkLabel_THKR>Key Concepts</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/getting-started/installation><span title=Installation class=linkLabel_THKR>Installation</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/getting-started/gettingstarted><span title="Getting Started" class=linkLabel_THKR>Getting Started</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/getting-started/upgrading><span title=Upgrading class=linkLabel_THKR>Upgrading</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/getting-started/cli><span title="Command Line Interface" class=linkLabel_THKR>Command Line Interface</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/getting-started/generators><span title="Code Generators" class=linkLabel_THKR>Code Generators</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/getting-started/podman><span title=Podman class=linkLabel_THKR>Podman</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/getting-started/requirements><span title="Requirements and Design" class=linkLabel_THKR>Requirements and Design</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_m86C menu__link menu__link--sublist" href=/docs/configuration><span title=Configuration class=categoryLinkLabel_gwYM>Configuration</span></a><button aria-label="Expand sidebar category 'Configuration'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_m86C menu__link menu__link--sublist" href=/docs/tools><span title=Tools class=categoryLinkLabel_gwYM>Tools</span></a><button aria-label="Expand sidebar category 'Tools'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_m86C menu__link menu__link--sublist" href=/docs/guides><span title=Guides class=categoryLinkLabel_gwYM>Guides</span></a><button aria-label="Expand sidebar category 'Guides'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_m86C menu__link menu__link--sublist" href=/docs/development><span title=Development class=categoryLinkLabel_gwYM>Development</span></a><button aria-label="Expand sidebar category 'Development'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_m86C menu__link menu__link--sublist" href=/docs/meta><span title=Meta class=categoryLinkLabel_gwYM>Meta</span></a><button aria-label="Expand sidebar category 'Meta'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/privacy><span title="OpenC3, Inc. Privacy Policy" class=linkLabel_THKR>OpenC3, Inc. Privacy Policy</span></a></ul></nav></div></div></aside><main class=docMainContainer_Aig4><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_rdr9"><div class=docItemContainer_jIg7><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_rdSc" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_u_XA><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/getting-started><span>Getting Started</span></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Upgrading</span></ul></nav><div class="tocCollapsible_xgee theme-doc-toc-mobile tocMobile_JnGb"><button type=button class="clean-btn tocCollapsibleButton_c5np">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Upgrading</h1></header><h2 class="anchor anchorWithStickyNavbar_TUrh" id=cosmos-upgrades>COSMOS Upgrades<a href=#cosmos-upgrades class=hash-link aria-label="Direct link to COSMOS Upgrades" title="Direct link to COSMOS Upgrades" translate=no>​</a></h2>
<p>OpenC3 releases new versions of COSMOS on a monthy or better cadence. This is done for several reasons: to incorporate new features, fix existing bugs, update dependencies, and close CVEs. We extensively test each release at both the unit level, API level, and system level using Playwright against a deployed COSMOS. Thus we recommend upgrading COSMOS as quickly as possible when new releases become available. While COSMOS itself is tested extensively, we obviously can not test against customer plugins and custom deployments. We recommend having another installation of COSMOS which you can upgrade with your own plugins and verify functionality before upgrading your production environment.</p>
<p>COSMOS is released as Docker containers. Since we're using Docker containers and volumes we can simply stop the existing COSMOS application, apply the upgrade, and run the new release.</p>
<div class="theme-admonition theme-admonition-info admonition_AUqJ alert alert--info"><div class=admonitionHeading_V_Ab><span class=admonitionIcon_ZQS8><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>Release Notes</div><div class=admonitionContent_ISwi><p>Always check the release notes associated with the release on the <a href=https://github.com/OpenC3/cosmos/releases target=_blank rel="noopener noreferrer">releases</a> page. Sometimes there are migration notes. When upgrading older versions, be sure to upgrade to first 5.13.0 and then 6.0.0 before proceeding. See <a href=https://docs.openc3.com/docs/getting-started/upgrading#upgrade-migration-process target=_blank rel="noopener noreferrer">Upgrade Migration Process</a> for more information.</div></div>
<p>This example assumes an existing COSMOS project at <code>cosmos-project</code>. This should first be performed on a non-production machine that has the same set of plugins as your production system.</p>
<ol>
<li>Stop the current COSMOS application</li>
</ol>
<div class="theme-tabs-container tabs-container tabList_MlhV"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_Rn5s tabs__item--active">Linux<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_Rn5s">Windows</ul><div class=margin-top--md><div role=tabpanel class=tabItem_Jyrm><div class="language-sh codeBlockContainer_pOyF theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_OnWH><pre tabindex=0 class="prism-code language-sh codeBlock_mQyU thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_oRU6><span class=token-line style=color:#d6deeb><span class="token plain">cosmos-project % ./openc3.sh stop</span><br/></span></code></pre></div></div></div><div role=tabpanel class=tabItem_Jyrm hidden><div class="language-batch codeBlockContainer_pOyF theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_OnWH><pre tabindex=0 class="prism-code language-batch codeBlock_mQyU thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_oRU6><span class=token-line style=color:#d6deeb><span class="token plain">C:\cosmos-project> openc3.bat stop</span><br/></span></code></pre></div></div></div></div></div>
<div class="theme-admonition theme-admonition-info admonition_AUqJ alert alert--info"><div class=admonitionHeading_V_Ab><span class=admonitionIcon_ZQS8><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>Upgrade is new since v6.7.0</div><div class=admonitionContent_ISwi><p>Before version 6.7.0 the COSMOS cli did not have an upgrade option. If you are on a version prior to COSMOS 6.7.0, manually download the <a href=https://github.com/OpenC3/cosmos-project/blob/main/scripts/linux/openc3_upgrade.sh target=_blank rel="noopener noreferrer"><code>openc3_upgrade.sh</code></a> or <a href=https://github.com/OpenC3/cosmos-project/blob/main/scripts/windows/openc3_upgrade.bat target=_blank rel="noopener noreferrer"><code>openc3_upgrade.bat</code></a> script and put it at the base of your COSMOS project.<p>For step by step instructions see our <a href="https://youtu.be/Z3o1RACKE74?si=ngoo9tmrmB2O2OgC" target=_blank rel="noopener noreferrer">COSMOS Upgrade</a> video on our <a href=https://www.youtube.com/@openc3 target=_blank rel="noopener noreferrer">YouTube Channel</a>.<div class="theme-tabs-container tabs-container tabList_MlhV"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_Rn5s tabs__item--active">Linux<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_Rn5s">Windows</ul><div class=margin-top--md><div role=tabpanel class=tabItem_Jyrm><div class="language-sh codeBlockContainer_pOyF theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_OnWH><pre tabindex=0 class="prism-code language-sh codeBlock_mQyU thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_oRU6><span class=token-line style=color:#d6deeb><span class="token plain">cosmos-project % </span><span class="token function" style="color:rgb(130, 170, 255)">chmod</span><span class="token plain"> +x openc3_upgrade.sh</span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">cosmos-project % ./openc3_upgrade.sh</span><br/></span></code></pre></div></div></div><div role=tabpanel class=tabItem_Jyrm hidden><div class="language-batch codeBlockContainer_pOyF theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_OnWH><pre tabindex=0 class="prism-code language-batch codeBlock_mQyU thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_oRU6><span class=token-line style=color:#d6deeb><span class="token plain">C:\cosmos-project> openc3_upgrade.bat</span><br/></span></code></pre></div></div></div></div></div></div></div>
<ol start=2>
<li>Apply the upgrade to version vX.Y.Z (e.g. v6.7.0). Note the 'v' because this is a git tag.</li>
</ol>
<div class="theme-tabs-container tabs-container tabList_MlhV"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_Rn5s tabs__item--active">Linux<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_Rn5s">Windows</ul><div class=margin-top--md><div role=tabpanel class=tabItem_Jyrm><div class="language-sh codeBlockContainer_pOyF theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_OnWH><pre tabindex=0 class="prism-code language-sh codeBlock_mQyU thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_oRU6><span class=token-line style=color:#d6deeb><span class="token plain">cosmos-project % ./openc3.sh upgrade vX.Y.Z</span><br/></span></code></pre></div></div></div><div role=tabpanel class=tabItem_Jyrm hidden><div class="language-batch codeBlockContainer_pOyF theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_OnWH><pre tabindex=0 class="prism-code language-batch codeBlock_mQyU thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_oRU6><span class=token-line style=color:#d6deeb><span class="token plain">C:\cosmos-project> openc3.bat upgrade vX.Y.Z</span><br/></span></code></pre></div></div></div></div></div>
<ol start=3>
<li>Run the new COSMOS version</li>
</ol>
<div class="theme-tabs-container tabs-container tabList_MlhV"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_Rn5s tabs__item--active">Linux<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_Rn5s">Windows</ul><div class=margin-top--md><div role=tabpanel class=tabItem_Jyrm><div class="language-sh codeBlockContainer_pOyF theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_OnWH><pre tabindex=0 class="prism-code language-sh codeBlock_mQyU thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_oRU6><span class=token-line style=color:#d6deeb><span class="token plain">cosmos-project % ./openc3.sh run</span><br/></span></code></pre></div></div></div><div role=tabpanel class=tabItem_Jyrm hidden><div class="language-batch codeBlockContainer_pOyF theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_OnWH><pre tabindex=0 class="prism-code language-batch codeBlock_mQyU thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_oRU6><span class=token-line style=color:#d6deeb><span class="token plain">C:\cosmos-project> openc3.bat run</span><br/></span></code></pre></div></div></div></div></div>
<ol start=4>
<li>
<p>Test the new COSMOS version. Ensure your plugins start without errors. Verify you can graph or export data from before the upgrade. Perhaps run some of your scripts in disconnect mode.</p>
</li>
<li>
<p>Commit the changes to the project</p>
</li>
</ol>
<div class="theme-tabs-container tabs-container tabList_MlhV"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_Rn5s tabs__item--active">Linux<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_Rn5s">Windows</ul><div class=margin-top--md><div role=tabpanel class=tabItem_Jyrm><div class="language-sh codeBlockContainer_pOyF theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_OnWH><pre tabindex=0 class="prism-code language-sh codeBlock_mQyU thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_oRU6><span class=token-line style=color:#d6deeb><span class="token plain">cosmos-project % </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">.</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">cosmos-project % </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> commit </span><span class="token parameter variable" style="color:rgb(214, 222, 235)">-m</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">"Upgrade to vX.Y.Z"</span><br/></span></code></pre></div></div></div><div role=tabpanel class=tabItem_Jyrm hidden><div class="language-batch codeBlockContainer_pOyF theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_OnWH><pre tabindex=0 class="prism-code language-batch codeBlock_mQyU thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_oRU6><span class=token-line style=color:#d6deeb><span class="token plain">C:\cosmos-project> git add .</span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">C:\cosmos-project> git commit -m "Upgrade to vX.Y.Z"</span><br/></span></code></pre></div></div></div></div></div>
<ol start=6>
<li>Update the production system by stopping, pulling the new changes, and starting.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_TUrh" id=upgrade-migration-process>Upgrade Migration Process<a href=#upgrade-migration-process class=hash-link aria-label="Direct link to Upgrade Migration Process" title="Direct link to Upgrade Migration Process" translate=no>​</a></h3>
<p>COSMOS doesn't use strict <a href=https://semver.org/ target=_blank rel="noopener noreferrer">semantic versioning</a> for our releases. Our major releases (5.0.0, 6.0.0, etc) are for major architectural changes and backward incompatibilities. Minor releases (6.1.0, 6.2.0, etc) add functionality but can also modify our configuration files. Thus certain minor releases are more important than others when skipping releases.</p>
<p>The following table identifies key release milestones which changed the COSMOS project configuration files (.env, compose.yaml, traefik, etc).</p>
<p>Versions 5.13.0 and 6.0.0 <em>REQUIRE</em> a stop to evaluate the upgrade. Thus if you're currently at 5.9.0 you must first upgrade to 5.13.0, then 6.0.0, then to the latest.</p>
<table><thead><tr><th style=text-align:left>Version<th style=text-align:left>Summary<tbody><tr><td style=text-align:left>*<a href=https://github.com/OpenC3/cosmos/releases/tag/v5.13.0 target=_blank rel="noopener noreferrer">5.13.0</a>*<td style=text-align:left>Breaking change to non-root containers and renamed minio volume. Requires running the <a href=https://github.com/OpenC3/cosmos-project/blob/v5.13.0.0/migrate_5_12_to_5_13.sh target=_blank rel="noopener noreferrer">Core migration shell script</a> / <a href=https://github.com/OpenC3/cosmos-project/blob/v5.13.0.0/migrate_5_12_to_5_13.bat target=_blank rel="noopener noreferrer">Core migration batch file</a> or <a href=https://github.com/OpenC3/cosmos-enterprise-project/blob/v5.13.0.0/migrate_5_12_to_5_13_enterprise.sh target=_blank rel="noopener noreferrer">Enterprise migration shell script</a> / <a href=https://github.com/OpenC3/cosmos-enterprise-project/blob/v5.13.0.0/migrate_5_12_to_5_13_enterprise.bat target=_blank rel="noopener noreferrer">Enterprise migration batch file</a> to preserve previous data.<br/><br/>NOTE: Read the script! The You must set <code>GITHUB_PAT</code> in Enterprise or simply comment out the lines with <code>GITHUB_PAT</code>.<tr><td style=text-align:left><a href=https://github.com/OpenC3/cosmos/releases/tag/v5.15.0 target=_blank rel="noopener noreferrer">5.15.0</a><td style=text-align:left>The internal Traefik port was changed to 2900 to match our standard external port and to better support unprivileged runtime environments.<tr><td style=text-align:left>*<a href=https://github.com/OpenC3/cosmos/releases/tag/v6.0.0 target=_blank rel="noopener noreferrer">6.0.0</a>*<td style=text-align:left>Upgrade to Vue 3 and Vuetify 3 requires custom GUI tools to follow the <a href=/docs/getting-started/upgrading#migrating-from-cosmos-5-to-cosmos-6>COSMOS 6 migration guide</a>.<tr><td style=text-align:left><a href=https://github.com/OpenC3/cosmos/releases/tag/v6.1.0 target=_blank rel="noopener noreferrer">6.1.0</a><td style=text-align:left>Changed from ActionCable to AnyCable. We also broke apart the COSMOS helm charts from a single chart to 3 charts.</table>
<div class="theme-admonition theme-admonition-warning admonition_AUqJ alert alert--warning"><div class=admonitionHeading_V_Ab><span class=admonitionIcon_ZQS8><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>Downgrades</div><div class=admonitionContent_ISwi><p>Downgrades are not necessarily supported. When upgrading COSMOS we need to upgrade databases and sometimes migrate internal data structures. While we perform a full regression test on every release, we recommend upgrading an individual machine with your specific plugins and do local testing before rolling out the upgrade to your production system.<p>In general, patch releases (x.y.Z) can be downgraded, minor releases (x.Y.z) <em>might</em> be able to be downgraded and major releases (X.y.z) are NOT able to be downgraded.</div></div>
<h2 class="anchor anchorWithStickyNavbar_TUrh" id=migrating-from-cosmos-5-to-cosmos-6>Migrating From COSMOS 5 to COSMOS 6<a href=#migrating-from-cosmos-5-to-cosmos-6 class=hash-link aria-label="Direct link to Migrating From COSMOS 5 to COSMOS 6" title="Direct link to Migrating From COSMOS 5 to COSMOS 6" translate=no>​</a></h2>
<div class="theme-admonition theme-admonition-info admonition_AUqJ alert alert--info"><div class=admonitionHeading_V_Ab><span class=admonitionIcon_ZQS8><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>Developers Only</div><div class=admonitionContent_ISwi><p>If you haven't written any custom tools or widgets, there are no special changes required to upgrade from COSMOS 5 to COSMOS 6 other than updating your traefik configuration file. Simply follow the normal upgrade instructions above.</div></div>
<p>COSMOS 6 introduces some breaking changes for custom tools regarding the Vue framework and our common library code. We've upgraded from Vue 2 (EOL December 31, 2023) to Vue 3. These versions of Vue are not compatible with each other, so any tools written with Vue 2 will need to be updated. Additionally, our <code>@openc3/tool-common</code> NPM package has been deprecated with its functionality reorganized into two packages: <code>@openc3/js-common</code> and <code>@openc3/vue-common</code>. This is to provide a better experience for developers who are building COSMOS tools without the Vue framework.</p>
<p>We also removed a few rarely used <a href=/docs/guides/scripting-api#migration-from-cosmos-v5-to-v6>API methods</a> in COSMOS 6.</p>
<h3 class="anchor anchorWithStickyNavbar_TUrh" id=updating-vue>Updating Vue<a href=#updating-vue class=hash-link aria-label="Direct link to Updating Vue" title="Direct link to Updating Vue" translate=no>​</a></h3>
<p><em>If your tool was not built with Vue (e.g. it was built without a frontend framework, or it was built with React, Angular, etc.), then you can skip this section.</em></p>
<h4 class="anchor anchorWithStickyNavbar_TUrh" id=the-quick-and-dirty-way>The quick and dirty way<a href=#the-quick-and-dirty-way class=hash-link aria-label="Direct link to The quick and dirty way" title="Direct link to The quick and dirty way" translate=no>​</a></h4>
<p>Tools that are relatively simple can probably be upgraded in one shot by just updating the dependencies and fixing any build errors that arise, and then fixing any runtime errors you find from testing and using your tool. If you're confident in this upgrade path, you can reference <a href=https://github.com/OpenC3/cosmos/pull/1747 target=_blank rel="noopener noreferrer">this pull request</a> to see what will need to change. Otherwise, the rest of this guide will walk you through a more in-depth and complete migration process.</p>
<h4 class="anchor anchorWithStickyNavbar_TUrh" id=step-1-vue-compat-mode>Step 1: Vue compat mode<a href=#step-1-vue-compat-mode class=hash-link aria-label="Direct link to Step 1: Vue compat mode" title="Direct link to Step 1: Vue compat mode" translate=no>​</a></h4>
<p>The Vue team provided a compatibility mode to help with migrating from Vue 2 to Vue 3. This will let you get your tool up and running to make it easier to find the necessary changes.</p>
<h5 class="anchor anchorWithStickyNavbar_TUrh" id=1a-update-dependencies>(1.a) Update dependencies<a href=#1a-update-dependencies class=hash-link aria-label="Direct link to (1.a) Update dependencies" title="Direct link to (1.a) Update dependencies" translate=no>​</a></h5>
<p>Use your package manager or edit the package.json file to update the following dependencies (ignore any packages marked "Update" that you aren't using)</p>
<ul>
<li><strong>Remove:</strong> <code>vue-template-compiler</code></li>
<li><strong>Add:</strong> <code>@vue/compat</code> >= 3.5 (<a href=https://www.npmjs.com/package/@vue/compat target=_blank rel="noopener noreferrer">npmjs.com</a>)</li>
<li><strong>Add:</strong> <code>@vue/compiler-sfc</code> >= 3.5 (<a href=https://www.npmjs.com/package/@vue/compiler-sfc target=_blank rel="noopener noreferrer">npmjs.com</a>)</li>
<li><strong>Update:</strong> <code>@vue/test-utils</code> >= 2.4 (<a href=https://www.npmjs.com/package/@vue/compiler-sfc target=_blank rel="noopener noreferrer">npmjs.com</a>)</li>
<li><strong>Update:</strong> <code>vue</code> >= 3.5 (<a href=https://www.npmjs.com/package/vue target=_blank rel="noopener noreferrer">npmjs.com</a>)</li>
<li><strong>Update:</strong> <code>vuex</code> >= 4.1 (<a href=https://www.npmjs.com/package/vuex target=_blank rel="noopener noreferrer">npmjs.com</a>)</li>
<li><strong>Update:</strong> <code>vue-router</code> >= 4.4 (<a href=https://www.npmjs.com/package/vue-router target=_blank rel="noopener noreferrer">npmjs.com</a>)</li>
<li><strong>Update:</strong> <code>vuetify</code> >= 3.7 (<a href=https://www.npmjs.com/package/vuetify target=_blank rel="noopener noreferrer">npmjs.com</a>)</li>
<li><strong>Update:</strong> <code>single-spa-vue</code> >= 3.0 (<a href=https://www.npmjs.com/package/single-spa-vue target=_blank rel="noopener noreferrer">npmjs.com</a>)</li>
</ul>
<p>Eslint will help call out changes you'll need to make to your code for the migration, so it's recommended to include eslint in your project if you haven't already. There are plenty of guides online that will explain how to do that. If you're using eslint, then make the additional changes to your tool's dependencies:</p>
<ul>
<li><strong>Add:</strong> <code>eslint-plugin-vuetify</code> >= 2.5 (<a href=https://www.npmjs.com/package/eslint-plugin-vuetify target=_blank rel="noopener noreferrer">npmjs.com</a>)</li>
<li><strong>Add:</strong> <code>vue-eslint-parser</code> >= 9.4 (<a href=https://www.npmjs.com/package/vue-eslint-parser target=_blank rel="noopener noreferrer">npmjs.com</a>)</li>
</ul>
<p>If you modified your package.json file manually, don't forget to <code>pnpm install</code> at your project's root to apply the changes.</p>
<h5 class="anchor anchorWithStickyNavbar_TUrh" id=1b-update-the-vue-config-file-vueconfigjs>(1.b) Update the Vue config file (<code>vue.config.js</code>)<a href=#1b-update-the-vue-config-file-vueconfigjs class=hash-link aria-label="Direct link to 1b-update-the-vue-config-file-vueconfigjs" title="Direct link to 1b-update-the-vue-config-file-vueconfigjs" translate=no>​</a></h5>
<p>You likely have a <code>chainWebpack</code> property in the object that's exported by this file which looks something like this (though your contents might vary)</p>
<div class="language-js codeBlockContainer_pOyF theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_OnWH><pre tabindex=0 class="prism-code language-js codeBlock_mQyU thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_oRU6><span class=token-line style=color:#d6deeb><span class="token function-variable function" style="color:rgb(130, 170, 255)">chainWebpack</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">  config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">module</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">rule</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">'vue'</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">use</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">'vue-loader'</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">tap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">options</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">        </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">prettify</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><br/></span></code></pre></div></div>
<p>Add a resolution alias for <code>@vue/compat</code> to the top of this block and set the compiler to use the Vue 2 compat mode:</p>
<div class="language-js codeBlockContainer_pOyF theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_OnWH><pre tabindex=0 class="prism-code language-js codeBlock_mQyU thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_oRU6><span class=token-line style=color:#d6deeb><span class="token function-variable function" style="color:rgb(130, 170, 255)">chainWebpack</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">  config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">resolve</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">alias</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">set</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">'vue'</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">'@vue/compat'</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// Add this line</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">  config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">module</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">rule</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">'vue'</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">use</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">'vue-loader'</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">tap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">options</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=></span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">        </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">prettify</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">        </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">compilerOptions</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// Add this block</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">          </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">compatConfig</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">            </span><span class="token constant" style="color:rgb(130, 170, 255)">MODE</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">       </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">               </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">                 </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// to here</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><br/></span></code></pre></div></div>
<h5 class="anchor anchorWithStickyNavbar_TUrh" id=1c-update-the-eslint-config-file-eslintrc>(1.c) Update the eslint config file (<code>.eslintrc</code>)<a href=#1c-update-the-eslint-config-file-eslintrc class=hash-link aria-label="Direct link to 1c-update-the-eslint-config-file-eslintrc" title="Direct link to 1c-update-the-eslint-config-file-eslintrc" translate=no>​</a></h5>
<p>Find the string <code>'plugin:vue/essential'</code> in your <code>extends</code> block and change it to <code>'plugin:vue/vue3-essential'</code>. If you don't have that plugin in your <code>extends</code> block, or you're missing that block entirely, then add this. It will help find breaking changes in how your code is using the Vue API.</p>
<div class="language-js codeBlockContainer_pOyF theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_OnWH><pre tabindex=0 class="prism-code language-js codeBlock_mQyU thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_oRU6><span class=token-line style=color:#d6deeb><span class="token keyword" style="color:rgb(127, 219, 202)">extends</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token string" style="color:rgb(173, 219, 103)">'plugin:vue/vue3-essential'</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// change this from plugin:vue/essential</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token string" style="color:rgb(173, 219, 103)">'plugin:prettier/recommended'</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token string" style="color:rgb(173, 219, 103)">'@vue/prettier'</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><br/></span></code></pre></div></div>
<h5 class="anchor anchorWithStickyNavbar_TUrh" id=1d-fix-build-and-runtime-warnings-and-errors>(1.d) Fix build and runtime warnings and errors<a href=#1d-fix-build-and-runtime-warnings-and-errors class=hash-link aria-label="Direct link to (1.d) Fix build and runtime warnings and errors" title="Direct link to (1.d) Fix build and runtime warnings and errors" translate=no>​</a></h5>
<p>Run your linting and build scripts (e.g. <code>pnpm lint</code> and <code>pnpm build</code>). The eslint plugin and Vue's compat mode will find the first set of code changes you need to address. Fix these lint/build errors until your project builds successfully.</p>
<p>Once it builds, run your project like you would for development. It's recommended to serve it from a local dev server with <code>pnpm serve</code> and add it to the import map overrides in the browser. Test the functionality of your tool and address any Vue errors and warnings that get printed to the browser console in the dev tools. <em>(NOTE: On <code>MODE: 2</code> - your first pass through this section - it's ok if your tool doesn't completely work yet. Just address the warnings and errors that are logged to the browser console. You'll get your tool completely working in the next step.)</em></p>
<p>From our experience migrating the COSMOS first-party tools, you'll most likely have to make changes to your <code>main.js</code> and <code>router.js</code> files at a minimum. You can reference the PR mentioned above in the "The quick and dirty way" section above to see what we changed, or search the internet for Vue 2 -> Vue 3 migration guides if you need help addressing any warnings or errors.</p>
<h4 class="anchor anchorWithStickyNavbar_TUrh" id=step-2-bump-compat-mode-from-2-to-3>Step 2: Bump compat mode from 2 to 3<a href=#step-2-bump-compat-mode-from-2-to-3 class=hash-link aria-label="Direct link to Step 2: Bump compat mode from 2 to 3" title="Direct link to Step 2: Bump compat mode from 2 to 3" translate=no>​</a></h4>
<p>Change the <code>compatConfig</code> you added to your vue config file (<code>vue.config.js</code>) from <code>MODE: 2</code> to <code>MODE: 3</code>. This will tell Vue's compat mode that you've addressed the changes in the previous step, and it will find the next set of issues (since this is a multi-step process). Repeat the "(1.d) Fix build and runtime warnings and errors" step.</p>
<h4 class="anchor anchorWithStickyNavbar_TUrh" id=step-3-update-vuetify>Step 3: Update Vuetify<a href=#step-3-update-vuetify class=hash-link aria-label="Direct link to Step 3: Update Vuetify" title="Direct link to Step 3: Update Vuetify" translate=no>​</a></h4>
<p><em>If you're not using Vuetify, you can skip this step.</em></p>
<p>Modify your eslint config (<code>.eslintrc</code>) again to add the Vuetify plugin:</p>
<div class="language-js codeBlockContainer_pOyF theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_OnWH><pre tabindex=0 class="prism-code language-js codeBlock_mQyU thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_oRU6><span class=token-line style=color:#d6deeb><span class="token keyword" style="color:rgb(127, 219, 202)">extends</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token string" style="color:rgb(173, 219, 103)">'plugin:vue/vue3-essential'</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token string" style="color:rgb(173, 219, 103)">'plugin:vuetify/base'</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// Add this line</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token string" style="color:rgb(173, 219, 103)">'plugin:prettier/recommended'</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token string" style="color:rgb(173, 219, 103)">'@vue/prettier'</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><br/></span></code></pre></div></div>
<p><strong>Note:</strong> The Vuetify eslint plugin is only designed for migrating projects from Vuetify 2 to Vuetify 3 and can cause linting performance issues, so it should be removed once your tool migration is complete.</p>
<p>Again in <code>.eslintrc</code>, find your <code>parserOptions</code> block and add the <code>parser</code> property above it:</p>
<div class="language-js codeBlockContainer_pOyF theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_OnWH><pre tabindex=0 class="prism-code language-js codeBlock_mQyU thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_oRU6><span class=token-line style=color:#d6deeb><span class="token literal-property property" style="color:rgb(128, 203, 196)">parser</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">'vue-eslint-parser'</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// Add this line</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token literal-property property" style="color:rgb(128, 203, 196)">parserOptions</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain">  </span><span class="token spread operator" style="color:rgb(127, 219, 202)">...</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><br/></span></code></pre></div></div>
<p>Now when you run eslint, it can tell you about any changes you'll need to address regarding how your code is using the Vuetify API. To find these changes, run eslint on your Vue files (e.g. <code>pnpm eslint . --ext .vue</code>). You can address these manually, or if you trust eslint or have good version control, you can have the plugin fix most of them automatically with <code>pnpm eslint . --ext .vue --fix</code></p>
<p>Lastly, if you are using the Astro UXDS icons via Vuetify from COSMOS - or any custom icon packs for that matter - then you'll need to change their pack alias format from <code>$packName-</code> to <code>packName:</code>. Here's an example for the <code>antenna-transmit</code> Astro icon:</p>
<div class="language-html codeBlockContainer_pOyF theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_OnWH><pre tabindex=0 class="prism-code language-html codeBlock_mQyU thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_oRU6><span class=token-line style=color:#d6deeb><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">&lt;!-- Vue 2 / Vuetify 2 (old) --></span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(127, 219, 202)">v-icon</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">></span><span class="token plain"> $astro-antenna-transmit </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(127, 219, 202)">v-icon</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">></span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">&lt;!-- Vue 3 / Vuetify 3 (new) --></span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(127, 219, 202)">v-icon</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">></span><span class="token plain"> astro:antenna-transmit </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(127, 219, 202)">v-icon</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">></span><br/></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_TUrh" id=step-4-clean-up>Step 4: Clean up<a href=#step-4-clean-up class=hash-link aria-label="Direct link to Step 4: Clean up" title="Direct link to Step 4: Clean up" translate=no>​</a></h4>
<ul>
<li>Remove the <code>@vue/compat</code> and <code>eslint-plugin-vuetify</code> dependencies you added in step 1.a</li>
<li>Remove the <code>compatConfig</code> you added in step 1.b</li>
<li>Remove the <code>'plugin:vuetify/base'</code> you added in step 3</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_TUrh" id=migrating-to-the-new-openc3-common-packages>Migrating to the new OpenC3 common packages<a href=#migrating-to-the-new-openc3-common-packages class=hash-link aria-label="Direct link to Migrating to the new OpenC3 common packages" title="Direct link to Migrating to the new OpenC3 common packages" translate=no>​</a></h3>
<p>As mentioned in the first paragraph of this guide, we've deprecated the <code>@openc3/tool-common</code> NPM package. All of its functionality has remained the same, but everything is organized differently, so you'll have to update your dependencies and imports.</p>
<h4 class="anchor anchorWithStickyNavbar_TUrh" id=step-1-update-dependencies>Step 1: Update dependencies<a href=#step-1-update-dependencies class=hash-link aria-label="Direct link to Step 1: Update dependencies" title="Direct link to Step 1: Update dependencies" translate=no>​</a></h4>
<p>Use your package manager or edit the package.json file to update the following dependencies</p>
<ul>
<li><strong>Remove:</strong> <code>@openc3/tool-common</code></li>
<li><strong>Add:</strong> <code>@openc3/js-common</code> >= 6.0 (<a href=https://www.npmjs.com/package/@openc3/js-common target=_blank rel="noopener noreferrer">npmjs.com</a>)</li>
<li><strong>Add:</strong> <code>@openc3/vue-common</code> >= 6.0 (<a href=https://www.npmjs.com/package/@openc3/vue-common target=_blank rel="noopener noreferrer">npmjs.com</a>)<!-- -->
<ul>
<li>This is only needed if you are using our Vue stuff (components, plugins, etc.)</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_TUrh" id=step-2-update-imports-in-your-code>Step 2: Update imports in your code<a href=#step-2-update-imports-in-your-code class=hash-link aria-label="Direct link to Step 2: Update imports in your code" title="Direct link to Step 2: Update imports in your code" translate=no>​</a></h4>
<p>In COSMOS 5, things were imported directly from <code>@openc3/tool-common</code>'s <code>src</code> directory and subsequently built into your tool by your build process. Everything in COSMOS 6 is now exported through several top-level exports in our new common packages. In general, the pattern is as follows:</p>
<ul>
<li>COSMOS 5: <code>import bar from '@openc3/tool-common/src/foo/bar'</code></li>
<li>COSMOS 6: <code>import { bar } from '@openc3/vue-common/foo'</code></li>
</ul>
<p>This pattern also lets you combine multiple import statements into one (e.g. <code>import { bar, baz } from '@openc3/vue-common/foo'</code>).</p>
<p>There are three exceptions to this pattern:</p>
<ul>
<li>Widgets are no longer under the <code>components</code> directory but instead get their own top-level export<!-- -->
<ul>
<li>Old: <code>import foo from '@openc3/tool-common/src/components/widgets/Foo</code></li>
<li>New: <code>import { foo } from '@openc3/vue-common/widgets</code></li>
</ul>
</li>
<li>Icons got the same treatment<!-- -->
<ul>
<li>Old: <code>import bar from '@openc3/tool-common/src/components/icons/Bar</code></li>
<li>New: <code>import { bar } from '@openc3/vue-common/icons</code></li>
</ul>
</li>
<li>The <code>TimeFilters</code> mixin was moved from <code>tools/base</code> to <code>util</code>
<ul>
<li>Old: <code>import TimeFilters from '@openc3/tool-common/src/tools/base/util/timeFilters</code></li>
<li>New: <code>import { TimeFilters } from '@openc3/vue-common/util</code></li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_TUrh" id=openc3js-common><code>@openc3/js-common</code><a href=#openc3js-common class=hash-link aria-label="Direct link to openc3js-common" title="Direct link to openc3js-common" translate=no>​</a></h4>
<p>This package contains things previously under <code>@openc3/tool-common/src/services</code>. Anything not from that path will be in the <code>vue-common</code> package discussed below.</p>
<p>Update any of your imports from that path accordingly. Here's an example:</p>
<div class="language-js codeBlockContainer_pOyF theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_OnWH><pre tabindex=0 class="prism-code language-js codeBlock_mQyU thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_oRU6><span class=token-line style=color:#d6deeb><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// COSMOS 5 (old)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token keyword module" style="color:rgb(127, 219, 202)">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Api</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">"@openc3/tool-common/src/services/api"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token keyword module" style="color:rgb(127, 219, 202)">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Cable</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">"@openc3/tool-common/src/services/cable"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token keyword module" style="color:rgb(127, 219, 202)">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">OpenC3Api</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">"@openc3/tool-common/src/services/openc3Api"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// COSMOS 6 (new)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token keyword module" style="color:rgb(127, 219, 202)">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Api</span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">Cable</span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">OpenC3Api</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">"@openc3/js-common/services"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br/></span></code></pre></div></div>
<p>This package also provides a couple more top-level imports which you likely will not need, but they might be useful, so I'll call them out here:</p>
<ul>
<li>
<p><code>import { prependBasePath } from '@openc3/js-common/utils</code> provides a function that will prepend the base path (e.g. localhost:2900) to Vue Router <code>route</code> objects and their children. This can be useful if you run into certain quirks with single-spa and vue-router 4's routing logic where you need the full path. You can see how we use it <a href=https://github.com/OpenC3/cosmos/blob/f0193f4146e28e1cd383732763a9d27d84b5ca71/openc3-cosmos-init/plugins/packages/openc3-cosmos-tool-cmdtlmserver/src/router.js#L76 target=_blank rel="noopener noreferrer">here</a>.</p>
</li>
<li>
<p><code>import { devServerPlugin } from '@openc3/js-common/viteDevServerPlugin</code>. This Vite plugin is a temporary hack to run a local dev server for tools when migrating from webpack/vue-cli. It should be replaced with Vite's built-in <code>vite dev</code> dev server, but that's currently not working - at least in our first-party COSMOS tools. You can see how we use it <a href=https://github.com/OpenC3/cosmos/blob/f0193f4146e28e1cd383732763a9d27d84b5ca71/openc3-cosmos-init/plugins/packages/openc3-cosmos-tool-cmdtlmserver/vite.config.js#L37 target=_blank rel="noopener noreferrer">here</a>.</p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_TUrh" id=openc3vue-common><code>@openc3/vue-common</code><a href=#openc3vue-common class=hash-link aria-label="Direct link to openc3vue-common" title="Direct link to openc3vue-common" translate=no>​</a></h4>
<p>This package provides all the shared Vue components we use to build our first-party tools. The main top-level exports are <code>components</code>, <code>icons</code>, <code>plugins</code>, <code>util</code>, and <code>widgets</code>. There are also some tool-specific exports that we built for code sharing with COSMOS Enterprise, which you might find useful: <code>tool/base</code>, <code>tool/admin</code>, and <code>tool/calendar</code>. Here's an example, but again, reference the pattern mentioned above.</p>
<div class="language-js codeBlockContainer_pOyF theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_OnWH><pre tabindex=0 class="prism-code language-js codeBlock_mQyU thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_oRU6><span class=token-line style=color:#d6deeb><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// COSMOS 5 (old)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token keyword module" style="color:rgb(127, 219, 202)">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">DetailsDialog</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">"@openc3/tool-common/src/components/DetailsDialog"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token keyword module" style="color:rgb(127, 219, 202)">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Graph</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">"@openc3/tool-common/src/components/Graph"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token keyword module" style="color:rgb(127, 219, 202)">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Notify</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">"@openc3/tool-common/src/plugins/notify"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token keyword module" style="color:rgb(127, 219, 202)">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">TimeFilters</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">"@openc3/tool-common/src/tools/base/util/timeFilters"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token keyword module" style="color:rgb(127, 219, 202)">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">VWidget</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">"@openc3/tool-common/src/components/widgets/VWidget"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// COSMOS 6 (new)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token keyword module" style="color:rgb(127, 219, 202)">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">DetailsDialog</span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">Graph</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">"@openc3/vue-common/components"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token keyword module" style="color:rgb(127, 219, 202)">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Notify</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">"@openc3/vue-common/plugins"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token keyword module" style="color:rgb(127, 219, 202)">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">TimeFilters</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">"@openc3/vue-common/util"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#d6deeb><span class="token plain"></span><span class="token keyword module" style="color:rgb(127, 219, 202)">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">VWidget</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">"@openc3/vue-common/widgets"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_TUrh" id=migrating-from-cosmos-4-to-cosmos-5>Migrating From COSMOS 4 to COSMOS 5<a href=#migrating-from-cosmos-4-to-cosmos-5 class=hash-link aria-label="Direct link to Migrating From COSMOS 4 to COSMOS 5" title="Direct link to Migrating From COSMOS 4 to COSMOS 5" translate=no>​</a></h2>
<div class="theme-admonition theme-admonition-info admonition_AUqJ alert alert--info"><div class=admonitionHeading_V_Ab><span class=admonitionIcon_ZQS8><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>All COSMOS Users</div><div class=admonitionContent_ISwi><p>All COSMOS 4 users must upgrade their configuration to 5. However, the command, telemetry and screen definitions (keywords and syntax) have remained the same.</div></div>
<p>COSMOS 5 is a new architecture and treats targets as independent <a href=/docs/configuration/plugins>plugins</a>. Thus the primary effort in porting from COSMOS 4 to COSMOS 5 is converting targets to plugins. We recommend creating plugins for each independent target (with its own interface) but targets which share an interface will need to be part of the same plugin. The reason for independent plugins is it allows the plugin to be versioned separately and more easily shared outside your specific project. If you have very project specific targets (e.g. custom hardware) those can potentially be combined for ease of deployment.</p>
<p>We also removed and renamed a number of <a href=/docs/guides/scripting-api#migration-from-cosmos-v4-to-v5>API methods</a> in COSMOS 5.</p>
<h3 class="anchor anchorWithStickyNavbar_TUrh" id=configuration-migration-tool>Configuration Migration Tool<a href=#configuration-migration-tool class=hash-link aria-label="Direct link to Configuration Migration Tool" title="Direct link to Configuration Migration Tool" translate=no>​</a></h3>
<p>COSMOS 5 (but not COSMOS 6) includes a migration tool for converting an existing COSMOS 4 configuration into a COSMOS 5 plugin. This example assumes an existing COSMOS 4 configuration at C:\COSMOS and a new COSMOS 5 installation at C:\cosmos-project. Linux users can adjust paths and change from .bat to .sh to follow along.</p>
<ol>
<li>
<p>Change to the existing COSMOS 4 configuration directory. You should see the config, lib, procedures, outputs directory. You can then run the migration tool by specifying the absolute path to the COSMOS 5 installation.</p>
<div class="language-batch codeBlockContainer_pOyF theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_OnWH><pre tabindex=0 class="prism-code language-batch codeBlock_mQyU thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_oRU6><span class=token-line style=color:#d6deeb><span class="token plain">C:\COSMOS> C:\cosmos-project\openc3.bat cli migrate -a demo</span><br/></span></code></pre></div></div>
<p>This creates a new COSMOS 5 plugin called openc3-cosmos-demo with a target named DEMO containing the existing lib and procedures files as well as all the existing targets.</p>
<div class="language-batch codeBlockContainer_pOyF theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_OnWH><pre tabindex=0 class="prism-code language-batch codeBlock_mQyU thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_oRU6><span class=token-line style=color:#d6deeb><span class="token plain">C:\COSMOS> C:\cosmos-project\openc3.bat cli migrate demo-part INST</span><br/></span></code></pre></div></div>
<p>This would create a new COSMOS 5 plugin called openc3-cosmos-demo-part with a target named DEMO_PART containing the existing lib and procedures files as well as the INST target (but no others).</p>
</li>
<li>
<p>Open the new COSMOS 5 plugin and ensure the <a href=/docs/configuration/plugins#plugintxt-configuration-file>plugin.txt</a> file is correctly configured. The migration tool doesn't create VARIABLEs or MICROSERVICEs or handle target substitution so those features will have to added manually.</p>
</li>
<li>
<p>Follow the <a href=/docs/getting-started/gettingstarted#building-your-plugin>building your plugin</a> part of the Getting Started tutorial to build your new plugin and upload it to COSMOS 5.</p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_TUrh" id=upgrading-custom-tools>Upgrading Custom Tools<a href=#upgrading-custom-tools class=hash-link aria-label="Direct link to Upgrading Custom Tools" title="Direct link to Upgrading Custom Tools" translate=no>​</a></h3>
<p>COSMOS 4 was a Qt Desktop based application. COSMOS 5 is a completely new architecture which runs natively in the browser using <a href=https://vuejs.org/ target=_blank rel="noopener noreferrer">Vue.js</a> as the Javascript framework and <a href=https://vuetifyjs.com/en/ target=_blank rel="noopener noreferrer">Vuetify</a> as the GUI library. We utilize <a href=https://single-spa.js.org/ target=_blank rel="noopener noreferrer">single-spa</a> to allow you to write COSMOS tool plugins in any language and provide <a href=https://github.com/OpenC3/cosmos/tree/main/openc3/templates target=_blank rel="noopener noreferrer">templates</a> for Vue.js (recommended), Angular, React and Svelte. Any COSMOS 4 custom tools will have to be completely re-written to run in COSMOS 5. We recommend using the native COSMOS <a href=https://github.com/OpenC3/cosmos/tree/main/openc3-cosmos-init/plugins/packages target=_blank rel="noopener noreferrer">tools</a> and finding GUI concepts and functionality that best match the tool you're trying to re-create.</p>
<p>If you need custom development get in touch at <a href=mailto:sales@openc3.com target=_blank rel="noopener noreferrer">sales@openc3.com</a>.</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/OpenC3/cosmos/tree/main/docs.openc3.com/docs/getting-started/upgrading.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_CuGa aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_h4bd"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/getting-started/gettingstarted><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Getting Started</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/getting-started/cli><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Command Line Interface</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_rhgf thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#cosmos-upgrades class="table-of-contents__link toc-highlight">COSMOS Upgrades</a><ul><li><a href=#upgrade-migration-process class="table-of-contents__link toc-highlight">Upgrade Migration Process</a></ul><li><a href=#migrating-from-cosmos-5-to-cosmos-6 class="table-of-contents__link toc-highlight">Migrating From COSMOS 5 to COSMOS 6</a><ul><li><a href=#updating-vue class="table-of-contents__link toc-highlight">Updating Vue</a><ul><li><a href=#the-quick-and-dirty-way class="table-of-contents__link toc-highlight">The quick and dirty way</a><li><a href=#step-1-vue-compat-mode class="table-of-contents__link toc-highlight">Step 1: Vue compat mode</a><ul><li><a href=#1a-update-dependencies class="table-of-contents__link toc-highlight">(1.a) Update dependencies</a><li><a href=#1b-update-the-vue-config-file-vueconfigjs class="table-of-contents__link toc-highlight">(1.b) Update the Vue config file (<code>vue.config.js</code>)</a><li><a href=#1c-update-the-eslint-config-file-eslintrc class="table-of-contents__link toc-highlight">(1.c) Update the eslint config file (<code>.eslintrc</code>)</a><li><a href=#1d-fix-build-and-runtime-warnings-and-errors class="table-of-contents__link toc-highlight">(1.d) Fix build and runtime warnings and errors</a></ul><li><a href=#step-2-bump-compat-mode-from-2-to-3 class="table-of-contents__link toc-highlight">Step 2: Bump compat mode from 2 to 3</a><li><a href=#step-3-update-vuetify class="table-of-contents__link toc-highlight">Step 3: Update Vuetify</a><li><a href=#step-4-clean-up class="table-of-contents__link toc-highlight">Step 4: Clean up</a></ul><li><a href=#migrating-to-the-new-openc3-common-packages class="table-of-contents__link toc-highlight">Migrating to the new OpenC3 common packages</a><ul><li><a href=#step-1-update-dependencies class="table-of-contents__link toc-highlight">Step 1: Update dependencies</a><li><a href=#step-2-update-imports-in-your-code class="table-of-contents__link toc-highlight">Step 2: Update imports in your code</a><li><a href=#openc3js-common class="table-of-contents__link toc-highlight"><code>@openc3/js-common</code></a><li><a href=#openc3vue-common class="table-of-contents__link toc-highlight"><code>@openc3/vue-common</code></a></ul></ul><li><a href=#migrating-from-cosmos-4-to-cosmos-5 class="table-of-contents__link toc-highlight">Migrating From COSMOS 4 to COSMOS 5</a><ul><li><a href=#configuration-migration-tool class="table-of-contents__link toc-highlight">Configuration Migration Tool</a><li><a href=#upgrading-custom-tools class="table-of-contents__link toc-highlight">Upgrading Custom Tools</a></ul></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Homepage</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://openc3.com target=_blank rel="noopener noreferrer" class=footer__link-item>Home</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Docs</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/docs>Documentation</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://www.linkedin.com/company/openc3 target=_blank rel="noopener noreferrer" class=footer__link-item>LinkedIn<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_mMqu><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>More</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/OpenC3/cosmos target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_mMqu><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a class=footer__link-item href=/docs/privacy>Privacy</a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2025 OpenC3, Inc.</div></div></div></footer></div></body>