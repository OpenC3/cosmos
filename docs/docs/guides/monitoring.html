<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-guides/monitoring" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.7.0"><title data-rh=true>Monitoring | OpenC3 Docs</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://docs.openc3.com/docs/guides/monitoring><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Monitoring | OpenC3 Docs"><meta data-rh=true name=description content="Various ways to monitor COSMOS internals"><meta data-rh=true property=og:description content="Various ways to monitor COSMOS internals"><link data-rh=true rel=icon href=/img/favicon.png><link data-rh=true rel=canonical href=https://docs.openc3.com/docs/guides/monitoring><link data-rh=true rel=alternate href=https://docs.openc3.com/docs/guides/monitoring hreflang=en><link data-rh=true rel=alternate href=https://docs.openc3.com/docs/guides/monitoring hreflang=x-default><link rel=stylesheet href=/assets/css/styles.14dc8b06.css><script src=/assets/js/runtime~main.ef783ada.js defer></script><script src=/assets/js/main.d9076df8.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"dark",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/img/logo.svg><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/logo.svg alt="OpenC3 Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/img/logo.svg alt="OpenC3 Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">OpenC3 Docs</b></a><a href=https://openc3.com target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Home</a><a href=https://openc3.com/enterprise/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Enterprise</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/docs>Documentation</a><a href=https://openc3.com/news/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">News</a><a href=https://openc3.com/contact/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Contact</a><a href=https://openc3.com/about/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">About</a></div><div class="navbar__items navbar__items--right"><a href=https://github.com/OpenC3/cosmos target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live=polite aria-pressed=true><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_pyhR><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_wfgR><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div><div class=navbarSearchContainer_Bca1><div class=navbar__search><span aria-label="expand searchbar" role=button class=search-icon tabindex=0></span><input id=search_input_react type=search placeholder=Loading... aria-label=Search class="navbar__search-input search-bar" disabled></div></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs>Introduction</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/getting-started>Getting Started</a><button aria-label="Expand sidebar category 'Getting Started'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/configuration>Configuration</a><button aria-label="Expand sidebar category 'Configuration'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/tools>Tools</a><button aria-label="Expand sidebar category 'Tools'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/docs/guides>Guides</a><button aria-label="Collapse sidebar category 'Guides'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/guides/bridges>Bridges</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/guides/cfs>COSMOS and NASA cFS</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/guides/custom-widgets>Custom Widgets</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/guides/dynamic-packets>Dynamic Packets</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/guides/exposing-microservices>Exposing Microservices</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/guides/little-endian-bitfields>Little Endian Bitfields</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/guides/local-mode>Local Mode</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/guides/logging>Logging</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/guides/monitoring>Monitoring</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/guides/performance>Performance</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/guides/raspberrypi>Raspberry Pi</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/guides/script-writing>Script Writing Guide</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/guides/scripting-api>Scripting API Guide</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/development>Development</a><button aria-label="Expand sidebar category 'Development'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/meta>Meta</a><button aria-label="Expand sidebar category 'Meta'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/privacy>OpenC3, Inc. Privacy Policy</a></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/docs/guides><span itemprop=name>Guides</span></a><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>Monitoring</span><meta itemprop=position content=2></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Monitoring</h1></header><h3 class="anchor anchorWithStickyNavbar_LWe7" id=monitoring-and-observability>Monitoring and observability<a href=#monitoring-and-observability class=hash-link aria-label="Direct link to Monitoring and observability" title="Direct link to Monitoring and observability">​</a></h3>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>Example Only</div><div class=admonitionContent_BuS1><p>Monitoring with Fluentd is not officially supported by OpenC3 and the documentation here is simply an example of how this could be performed.</div></div>
<p>With moving COSMOS to container based service, we needed a better way to monitor the internals of COSMOS. So here is some information on external services that you can use to monitor COSMOS. If you want to read more about <a href=https://sre.google/sre-book/monitoring-distributed-systems/ target=_blank rel="noopener noreferrer">Monitoring Distributed Systems</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=fluentfluentd><a href=https://www.fluentd.org/guides/recipes/docker-logging target=_blank rel="noopener noreferrer">Fluent/Fluentd</a><a href=#fluentfluentd class=hash-link aria-label="Direct link to fluentfluentd" title="Direct link to fluentfluentd">​</a></h3>
<blockquote>
<p>Fluentd is an open source data collector, which lets you unify the data collection and consumption for a better use and understanding of data.</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=notes>Notes<a href=#notes class=hash-link aria-label="Direct link to Notes" title="Direct link to Notes">​</a></h4>
<p>in_docker.conf</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token plain">&lt;source></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  @type forward</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  port 24224</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  bind 0.0.0.0</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">&lt;/source></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">&lt;match *.metric></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  @type copy</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  &lt;store></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    @type elasticsearch</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    host openc3-elasticsearch</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    port 9200</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    logstash_format true</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    logstash_prefix metric</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    logstash_dateformat %Y%m%d</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    include_tag_key true</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    type_name access_log</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    tag_key @log_name</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    flush_interval 1s</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  &lt;/store></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  &lt;store></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    @type stdout</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  &lt;/store></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">&lt;/match></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">&lt;match *__openc3.log></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  @type copy</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  &lt;store></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    @type elasticsearch</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    host openc3-elasticsearch</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    port 9200</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    logstash_format true</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    logstash_prefix openc3</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    logstash_dateformat %Y%m%d</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    include_tag_key true</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    type_name access_log</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    tag_key @log_name</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    flush_interval 1s</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  &lt;/store></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  &lt;store></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    @type stdout</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  &lt;/store></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">&lt;/match></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">&lt;match *.**></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  @type copy</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  &lt;store></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    @type elasticsearch</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    host openc3-elasticsearch</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    port 9200</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    logstash_format true</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    logstash_prefix fluentd</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    logstash_dateformat %Y%m%d</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    include_tag_key true</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    type_name access_log</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    tag_key @log_name</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    flush_interval 1s</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  &lt;/store></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  &lt;store></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    @type stdout</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  &lt;/store></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">&lt;/match></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Dockerfile</p>
<p>NOTE: If building on a Macbook (for example) you should use the architecture specific build in the FROM line, e.g. <code>FROM arm64v8/fluentd:v1.18-1</code></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token plain">FROM fluent/fluentd:v1.18-1</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">COPY ./in_docker.conf /fluentd/etc/fluent.conf</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">USER root</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">RUN gem install fluent-plugin-elasticsearch --no-document --version 5.4.3 \</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  && gem install fluent-plugin-prometheus --no-document --version 2.2.0</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">USER fluent</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=opendistro><a href=https://opendistro.github.io/for-elasticsearch-docs/ target=_blank rel="noopener noreferrer">OpenDistro</a><a href=#opendistro class=hash-link aria-label="Direct link to opendistro" title="Direct link to opendistro">​</a></h3>
<blockquote>
<p>Open Distro for Elasticsearch provides a powerful, easy-to-use event monitoring and alerting system, enabling you to monitor your data and send notifications automatically to your stakeholders. With an intuitive Kibana interface and powerful API, it is easy to set up and manage alerts.</p>
</blockquote>
<ul>
<li><a href=https://opendistro.github.io/for-elasticsearch-docs/docs/install/docker/ target=_blank rel="noopener noreferrer">Docker</a></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=notes-1>Notes<a href=#notes-1 class=hash-link aria-label="Direct link to Notes" title="Direct link to Notes">​</a></h4>
<p>When testing this I found that depending on how you ingest your logs into the opendistro I found I had to disable security. Here is an example of the docker file.</p>
<p>Dockerfile</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token plain">FROM amazon/opendistro-for-elasticsearch:1.12.0</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">RUN /usr/share/elasticsearch/bin/elasticsearch-plugin remove opendistro_security</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=prometheus><a href=https://prometheus.io/ target=_blank rel="noopener noreferrer">Prometheus</a><a href=#prometheus class=hash-link aria-label="Direct link to prometheus" title="Direct link to prometheus">​</a></h3>
<blockquote>
<p>Prometheus scrapes metrics from instrumented jobs, either directly or via an intermediary push gateway for short-lived jobs. It stores all scraped samples locally and runs rules over this data to either aggregate and record new time series from existing data or generate alerts. Grafana or other API consumers can be used to visualize the collected data.</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=notes-2>Notes<a href=#notes-2 class=hash-link aria-label="Direct link to Notes" title="Direct link to Notes">​</a></h4>
<p>prometheus.yaml</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token plain">global:</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  scrape_interval: 15s</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  evaluation_interval: 15s</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">rule_files:</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  # - "first.rules"</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  # - "second.rules"</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">scrape_configs:</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  - job_name: prometheus</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    static_configs:</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">      - targets: ["localhost:9090"]</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  - job_name: openc3-internal-metrics</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    metrics_path: "/openc3-api/internal/metrics"</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    static_configs:</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">      - targets: ["openc3-cmd-tlm-api:2901"]</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  - job_name: openc3-cmd-tlm-api</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    metrics_path: "/openc3-api/metrics"</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    static_configs:</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">      - targets: ["openc3-cmd-tlm-api:2901"]</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  - job_name: openc3-script-runner-api</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    metrics_path: "/script-api/metrics"</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    static_configs:</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">      - targets: ["openc3-script-runner-api:2902"]</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  - job_name: minio-job</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    metrics_path: /minio/v2/metrics/cluster</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    scheme: http</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    static_configs:</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    - targets: ['openc3-minio:9000']</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Dockerfile</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token plain">FROM prom/prometheus:v3.2.1</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">ADD prometheus.yaml /etc/prometheus/</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=grafana><a href=https://grafana.com/ target=_blank rel="noopener noreferrer">Grafana</a><a href=#grafana class=hash-link aria-label="Direct link to grafana" title="Direct link to grafana">​</a></h3>
<blockquote>
<p>Grafana is a multi-platform open source analytics and interactive visualization web application. It provides charts, graphs, and alerts for the web when connected to supported data sources.</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=notes-3>Notes<a href=#notes-3 class=hash-link aria-label="Direct link to Notes" title="Direct link to Notes">​</a></h4>
<p>datasource.yaml</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token plain">apiVersion: 1</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">datasources:</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">  - name: Prometheus</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    type: prometheus</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    # Access mode - proxy (server in the UI) or direct (browser in the UI).</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    access: proxy</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">    url: http://openc3-prometheus:9090</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Dockerfile</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#d6deeb;--prism-background-color:#011627><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#d6deeb;background-color:#011627><code class=codeBlockLines_e6Vv><span class=token-line style=color:#d6deeb><span class="token plain">FROM grafana/grafana</span><br></span><span class=token-line style=color:#d6deeb><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#d6deeb><span class="token plain">COPY datasource.yaml /etc/grafana/provisioning/datasources/</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/OpenC3/cosmos/tree/main/docs.openc3.com/docs/guides/monitoring.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/guides/logging><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Logging</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/guides/performance><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Performance</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#monitoring-and-observability class="table-of-contents__link toc-highlight">Monitoring and observability</a><li><a href=#fluentfluentd class="table-of-contents__link toc-highlight">Fluent/Fluentd</a><ul><li><a href=#notes class="table-of-contents__link toc-highlight">Notes</a></ul><li><a href=#opendistro class="table-of-contents__link toc-highlight">OpenDistro</a><ul><li><a href=#notes-1 class="table-of-contents__link toc-highlight">Notes</a></ul><li><a href=#prometheus class="table-of-contents__link toc-highlight">Prometheus</a><ul><li><a href=#notes-2 class="table-of-contents__link toc-highlight">Notes</a></ul><li><a href=#grafana class="table-of-contents__link toc-highlight">Grafana</a><ul><li><a href=#notes-3 class="table-of-contents__link toc-highlight">Notes</a></ul></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>Homepage</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://openc3.com target=_blank rel="noopener noreferrer" class=footer__link-item>Home</a></ul></div><div class="col footer__col"><div class=footer__title>Docs</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/docs>Documentation</a></ul></div><div class="col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://www.linkedin.com/company/openc3 target=_blank rel="noopener noreferrer" class=footer__link-item>LinkedIn<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div><div class="col footer__col"><div class=footer__title>More</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/OpenC3/cosmos target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a class=footer__link-item href=/docs/privacy>Privacy</a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2025 OpenC3, Inc.</div></div></div></footer></div>