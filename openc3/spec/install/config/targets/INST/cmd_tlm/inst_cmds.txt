COMMAND INST COLLECT BIG_ENDIAN "Starts a collect on the instrument"
  META TOPIC COLLECT
  PARAMETER    CCSDSVER        0   3  UINT  0     0   0 "CCSDS primary header version number"
  PARAMETER    CCSDSTYPE       3   1  UINT  1     1   1 "CCSDS primary header packet type"
  PARAMETER    CCSDSSHF        4   1  UINT  0     0   0 "CCSDS primary header secondary header flag"
  ID_PARAMETER CCSDSAPID       5  11  UINT  0  2047 999 "CCSDS primary header application id"
  PARAMETER    CCSDSSEQFLAGS  16   2  UINT  3     3   3 "CCSDS primary header sequence flags"
  PARAMETER    CCSDSSEQCNT    18  14  UINT  0 16383   0 "CCSDS primary header sequence count"
  PARAMETER    CCSDSLENGTH    32  16  UINT  0 65535   0 "CCSDS primary header packet length"
  ID_PARAMETER PKTID          48  16  UINT  0 65535   1 "Packet id"
  PARAMETER    TYPE           64  16  UINT  0 65535   0 "Collect type"
    REQUIRED
    STATE NORMAL  0
    STATE SPECIAL 1 HAZARDOUS
  PARAMETER    DURATION       80  32  FLOAT 0.0 10.0 1.0 "Collect duration"
  PARAMETER    OPCODE        112   8  UINT 0x0 0xFF 0xAB "Collect opcode"
    FORMAT_STRING "0x%0X"
  PARAMETER    TEMP          120  32  FLOAT 0.0 25.0 0.0 "Collect temperature"
    UNITS Celsius C

COMMAND INST ABORT BIG_ENDIAN "Aborts a collect on the instrument"
  PARAMETER    CCSDSVER        0   3  UINT  0     0   0 "CCSDS primary header version number"
  PARAMETER    CCSDSTYPE       3   1  UINT  1     1   1 "CCSDS primary header packet type"
  PARAMETER    CCSDSSHF        4   1  UINT  0     0   0 "CCSDS primary header secondary header flag"
  ID_PARAMETER CCSDSAPID       5  11  UINT  0  2047 999 "CCSDS primary header application id"
  PARAMETER    CCSDSSEQFLAGS  16   2  UINT  3     3   3 "CCSDS primary header sequence flags"
  PARAMETER    CCSDSSEQCNT    18  14  UINT  0 16383   0 "CCSDS primary header sequence count"
  PARAMETER    CCSDSLENGTH    32  16  UINT  0 65535   0 "CCSDS primary header packet length"
  ID_PARAMETER PKTID          48  16  UINT  0 65535   2 "Packet id"

COMMAND INST CLEAR BIG_ENDIAN "Clears counters on the instrument"
  HAZARDOUS "Clearing counters may lose valuable information."
  PARAMETER    CCSDSVER        0   3  UINT  0     0   0 "CCSDS primary header version number"
  PARAMETER    CCSDSTYPE       3   1  UINT  1     1   1 "CCSDS primary header packet type"
  PARAMETER    CCSDSSHF        4   1  UINT  0     0   0 "CCSDS primary header secondary header flag"
  ID_PARAMETER CCSDSAPID       5  11  UINT  0  2047 999 "CCSDS primary header application id"
  PARAMETER    CCSDSSEQFLAGS  16   2  UINT  3     3   3 "CCSDS primary header sequence flags"
  PARAMETER    CCSDSSEQCNT    18  14  UINT  0 16383   0 "CCSDS primary header sequence count"
  PARAMETER    CCSDSLENGTH    32  16  UINT  0 65535   0 "CCSDS primary header packet length"
  ID_PARAMETER PKTID          48  16  UINT  0 65535   3 "Packet id"

COMMAND INST SETPARAMS BIG_ENDIAN "Sets numbered parameters"
  PARAMETER    CCSDSVER        0   3  UINT  0     0   0 "CCSDS primary header version number"
  PARAMETER    CCSDSTYPE       3   1  UINT  1     1   1 "CCSDS primary header packet type"
  PARAMETER    CCSDSSHF        4   1  UINT  0     0   0 "CCSDS primary header secondary header flag"
  ID_PARAMETER CCSDSAPID       5  11  UINT  0  2047 999 "CCSDS primary header application id"
  PARAMETER    CCSDSSEQFLAGS  16   2  UINT  3     3   3 "CCSDS primary header sequence flags"
  PARAMETER    CCSDSSEQCNT    18  14  UINT  0 16383   0 "CCSDS primary header sequence count"
  PARAMETER    CCSDSLENGTH    32  16  UINT  0 65535   0 "CCSDS primary header packet length"
  ID_PARAMETER PKTID          48  16  UINT  0 65535   4 "Packet id"
  <% (1..5).each do |i| %>
    APPEND_PARAMETER VALUE<%= i %> 16 UINT 0 5 1 "Value <%= i %> setting"
  <% end %>
  SELECT_PARAMETER VALUE5
    POLY_WRITE_CONVERSION 0 2
  DISABLE_MESSAGES

COMMAND INST ASCIICMD BIG_ENDIAN "Enumerated ASCII command"
  APPEND_PARAMETER    CCSDSVER        3  UINT  0     0   0 "CCSDS primary header version number"
  APPEND_PARAMETER    CCSDSTYPE       1  UINT  1     1   1 "CCSDS primary header packet type"
  APPEND_PARAMETER    CCSDSSHF        1  UINT  0     0   0 "CCSDS primary header secondary header flag"
  APPEND_ID_PARAMETER CCSDSAPID      11  UINT  0  2047 999 "CCSDS primary header application id"
  APPEND_PARAMETER    CCSDSSEQFLAGS   2  UINT  3     3   3 "CCSDS primary header sequence flags"
  APPEND_PARAMETER    CCSDSSEQCNT    14  UINT  0 16383   0 "CCSDS primary header sequence count"
  APPEND_PARAMETER    CCSDSLENGTH    16  UINT  0 65535   0 "CCSDS primary header packet length"
  APPEND_ID_PARAMETER PKTID          16  UINT  0 65535   5 "Packet id"
  APPEND_PARAMETER    STRING         2048 STRING "NOOP"    "Enumerated string parameter"
    STATE "NOOP" "NOOP" DISABLE_MESSAGES
    STATE "ARM LASER" "ARM LASER" HAZARDOUS "Arming the laser poses an eye safety hazard."
    STATE "FIRE LASER" "FIRE LASER" HAZARDOUS "WARNING Laser will be fired!"
  APPEND_PARAMETER    BINARY         32  BLOCK  0xDEADBEEF   "Binary string"
  APPEND_PARAMETER    ASCII          80  STRING "0xDEADBEEF" "ASCII string"

COMMAND INST FLTCMD BIG_ENDIAN "Command with float parameters"
  PARAMETER    CCSDSVER        0   3  UINT  0     0   0 "CCSDS primary header version number"
  PARAMETER    CCSDSTYPE       3   1  UINT  1     1   1 "CCSDS primary header packet type"
  PARAMETER    CCSDSSHF        4   1  UINT  0     0   0 "CCSDS primary header secondary header flag"
  ID_PARAMETER CCSDSAPID       5  11  UINT  0  2047 999 "CCSDS primary header application id"
  PARAMETER    CCSDSSEQFLAGS  16   2  UINT  3     3   3 "CCSDS primary header sequence flags"
  PARAMETER    CCSDSSEQCNT    18  14  UINT  0 16383   0 "CCSDS primary header sequence count"
  PARAMETER    CCSDSLENGTH    32  16  UINT  0 65535   0 "CCSDS primary header packet length"
  ID_PARAMETER PKTID          48  16  UINT  0 65535   6 "Packet id"
  PARAMETER    FLOAT32        64  32  FLOAT MIN_FLOAT32 MAX_FLOAT32 0.0 "Float32 parameter"
  PARAMETER    FLOAT64        96  64  FLOAT MIN_FLOAT64 MAX_FLOAT64 0.0 "Float64 parameter"

COMMAND INST ARYCMD BIG_ENDIAN "Command with array parameter"
  PARAMETER    CCSDSVER        0   3  UINT  0     0   0 "CCSDS primary header version number"
  PARAMETER    CCSDSTYPE       3   1  UINT  1     1   1 "CCSDS primary header packet type"
  PARAMETER    CCSDSSHF        4   1  UINT  0     0   0 "CCSDS primary header secondary header flag"
  ID_PARAMETER CCSDSAPID       5  11  UINT  0  2047 999 "CCSDS primary header application id"
  PARAMETER    CCSDSSEQFLAGS  16   2  UINT  3     3   3 "CCSDS primary header sequence flags"
  PARAMETER    CCSDSSEQCNT    18  14  UINT  0 16383   0 "CCSDS primary header sequence count"
  PARAMETER    CCSDSLENGTH    32  16  UINT  0 65535   0 "CCSDS primary header packet length"
  ID_PARAMETER PKTID          48  16  UINT  0 65535   6 "Packet id"
  ARRAY_PARAMETER ARRAY       64  64  FLOAT 640 "Array parameter"
  APPEND_ARRAY_PARAMETER ARRAY2 32 UINT 320 "Array parameter"
    FORMAT_STRING "0x%0X"

COMMAND INST SLRPNLDEPLOY BIG_ENDIAN "Deploy solar array panels"
  PARAMETER    CCSDSVER        0   3  UINT  0     0   0 "CCSDS primary header version number"
  PARAMETER    CCSDSTYPE       3   1  UINT  1     1   1 "CCSDS primary header packet type"
  PARAMETER    CCSDSSHF        4   1  UINT  0     0   0 "CCSDS primary header secondary header flag"
  ID_PARAMETER CCSDSAPID       5  11  UINT  0  2047 999 "CCSDS primary header application id"
  PARAMETER    CCSDSSEQFLAGS  16   2  UINT  3     3   3 "CCSDS primary header sequence flags"
  PARAMETER    CCSDSSEQCNT    18  14  UINT  0 16383   0 "CCSDS primary header sequence count"
  PARAMETER    CCSDSLENGTH    32  16  UINT  0 65535   0 "CCSDS primary header packet length"
  ID_PARAMETER PKTID          48  16  UINT  0 65535   8 "Packet id"

COMMAND INST SLRPNLRESET BIG_ENDIAN "Reset solar array panels"
  PARAMETER    CCSDSVER        0   3  UINT  0     0   0 "CCSDS primary header version number"
  PARAMETER    CCSDSTYPE       3   1  UINT  1     1   1 "CCSDS primary header packet type"
  PARAMETER    CCSDSSHF        4   1  UINT  0     0   0 "CCSDS primary header secondary header flag"
  ID_PARAMETER CCSDSAPID       5  11  UINT  0  2047 999 "CCSDS primary header application id"
  PARAMETER    CCSDSSEQFLAGS  16   2  UINT  3     3   3 "CCSDS primary header sequence flags"
  PARAMETER    CCSDSSEQCNT    18  14  UINT  0 16383   0 "CCSDS primary header sequence count"
  PARAMETER    CCSDSLENGTH    32  16  UINT  0 65535   0 "CCSDS primary header packet length"
  ID_PARAMETER PKTID          48  16  UINT  0 65535   9 "Packet id"

COMMAND INST MEMLOAD BIG_ENDIAN "Load memory"
  DISABLE_MESSAGES # Disable messages on a command that could be sent many many times
  PARAMETER    CCSDSVER        0   3  UINT  0     0   0 "CCSDS primary header version number"
  PARAMETER    CCSDSTYPE       3   1  UINT  1     1   1 "CCSDS primary header packet type"
  PARAMETER    CCSDSSHF        4   1  UINT  0     0   0 "CCSDS primary header secondary header flag"
  ID_PARAMETER CCSDSAPID       5  11  UINT  0  2047 999 "CCSDS primary header application id"
  PARAMETER    CCSDSSEQFLAGS  16   2  UINT  3     3   3 "CCSDS primary header sequence flags"
  PARAMETER    CCSDSSEQCNT    18  14  UINT  0 16383   0 "CCSDS primary header sequence count"
  PARAMETER    CCSDSLENGTH    32  16  UINT  0 65535   0 "CCSDS primary header packet length"
  ID_PARAMETER PKTID          48  16  UINT  0 65535  10 "Packet id"
  APPEND_PARAMETER DATA 80 BLOCK "" "Block of data"

COMMAND INST DISABLED BIG_ENDIAN "Disabled command"
  DISABLED
  PARAMETER    CCSDSVER        0   3  UINT  0     0   0 "CCSDS primary header version number"
  PARAMETER    CCSDSTYPE       3   1  UINT  1     1   1 "CCSDS primary header packet type"
  PARAMETER    CCSDSSHF        4   1  UINT  0     0   0 "CCSDS primary header secondary header flag"
  ID_PARAMETER CCSDSAPID       5  11  UINT  0  2047 999 "CCSDS primary header application id"
  PARAMETER    CCSDSSEQFLAGS  16   2  UINT  3     3   3 "CCSDS primary header sequence flags"
  PARAMETER    CCSDSSEQCNT    18  14  UINT  0 16383   0 "CCSDS primary header sequence count"
  PARAMETER    CCSDSLENGTH    32  16  UINT  0 65535   0 "CCSDS primary header packet length"
  ID_PARAMETER PKTID          48  16  UINT  0 65535  11 "Packet id"

COMMAND INST HTTP_SERVER BIG_ENDIAN "OPTIONAL"
  APPEND_PARAMETER    HTTP_STATUS     256 STRING "ok"
  APPEND_PARAMETER    HTTP_PATH       256 STRING "/test"
  APPEND_PARAMETER    HTTP_PACKET     256 STRING "packet_name"

COMMAND INST SET_PASSWORD BIG_ENDIAN "Set Password Command"
  APPEND_PARAMETER USERNAME  256 STRING "username"
  APPEND_PARAMETER PASSWORD  256 STRING "password"
    OBFUSCATE